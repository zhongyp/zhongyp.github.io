<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DO IT</title>
  
  <subtitle>é’Ÿå®‡é¹çš„åšå®¢</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://zhongyp.me/"/>
  <updated>2018-12-10T10:07:47.487Z</updated>
  <id>http://zhongyp.me/</id>
  
  <author>
    <name>zhongyp</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>çº¿ç¨‹å¯åŠ¨ä¸ç»ˆæ­¢</title>
    <link href="http://zhongyp.me/2018/12/04/concurrency/2018-12-04-thread-start-end/"/>
    <id>http://zhongyp.me/2018/12/04/concurrency/2018-12-04-thread-start-end/</id>
    <published>2018-12-03T16:00:00.000Z</published>
    <updated>2018-12-10T10:07:47.487Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸Šç¯‡å¯¹<a href="https://zhongyp.me/2018/03/16/concurrent/2017-03-16-Thread-brief/">ä»€ä¹ˆæ˜¯çº¿ç¨‹</a>åšäº†ç®€å•çš„ä»‹ç»,æœ¬ç¯‡ä¸»è¦æ˜¯ä»æ„é€ çº¿ç¨‹ã€ä¸­æ–­çº¿ç¨‹ã€ç»ˆæ­¢çº¿ç¨‹3ä¸ªæ–¹é¢äº†è§£çº¿ç¨‹ã€‚</p><h3 id="1-æ„é€ çº¿ç¨‹"><a href="#1-æ„é€ çº¿ç¨‹" class="headerlink" title="1. æ„é€ çº¿ç¨‹"></a>1. æ„é€ çº¿ç¨‹</h3><h4 id="1-1-æ„é€ çº¿ç¨‹çš„æ–¹å¼"><a href="#1-1-æ„é€ çº¿ç¨‹çš„æ–¹å¼" class="headerlink" title="1.1 æ„é€ çº¿ç¨‹çš„æ–¹å¼"></a>1.1 æ„é€ çº¿ç¨‹çš„æ–¹å¼</h4><p>Javaæ„é€ ä¸€ä¸ªçº¿ç¨‹æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><p>ä¸€ç§æ˜¯å£°æ˜å­ç±»ç»§æ‰¿Threadçˆ¶ç±»å¹¶é‡å†™çˆ¶ç±»çš„runæ–¹æ³•ã€‚å¦‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">// çº¿ç¨‹ç±»</span><br><span class="line">class PrimeThread extends Thread &#123;</span><br><span class="line">    long minPrime;</span><br><span class="line">    PrimeThread(long minPrime) &#123;</span><br><span class="line">        this.minPrime = minPrime;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    public void run() &#123;</span><br><span class="line">        // compute primes larger than minPrime</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//å¯åŠ¨çº¿ç¨‹å®ä¾‹</span><br><span class="line">PrimeThread p = new PrimeThread(143);</span><br><span class="line">p.start();</span><br></pre></td></tr></table></figure></p><p>å¦ä¸€ç§æ–¹å¼æ˜¯å£°æ˜å­ç±»å®ç°Runnableæ¥å£ï¼Œå¹¶å®ç°runæ–¹æ³•ã€‚å¦‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// çº¿ç¨‹ç±»</span><br><span class="line">class PrimeRun implements Runnable &#123;</span><br><span class="line">    long minPrime;</span><br><span class="line">    PrimeRun(long minPrime) &#123;</span><br><span class="line">        this.minPrime = minPrime;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    public void run() &#123;</span><br><span class="line">        // compute primes larger than minPrime</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//å¯åŠ¨çº¿ç¨‹å®ä¾‹</span><br><span class="line">PrimeRun p = new PrimeRun(143);</span><br><span class="line">new Thread(p).start();</span><br></pre></td></tr></table></figure></p><p>ä¸¤è€…å…¶å®åœ¨æœ¬è´¨ä¸Šæ˜¯ä¸€è‡´çš„ï¼Œå› ä¸ºThreadç±»ä¹Ÿç»§æ‰¿äº†Runableæ¥å£ï¼Œæ‰€ä»¥éƒ½å®ç°/é‡å†™Runableä¸­çš„runæ–¹æ³•ã€‚Javaå°†çº¿ç¨‹çš„æ‰§è¡Œå’Œæ‰§è¡Œå¯¹è±¡æŠ½è±¡å¼€æ¥ï¼ŒJDKä¸­æ‰§è¡Œçš„æ˜¯Threadç±»ï¼ŒExecutoræ¡†æ¶ï¼Œå¯æ‰§è¡Œç›®æ ‡æœ‰Runableï¼ŒCallableã€‚å¯¹äºæ„é€ çº¿ç¨‹çš„æ–¹å¼ç¬¬ä¸€ç§æ–¹å¼å¹¶ä¸æ¨èï¼Œå› ä¸ºç»§æ‰¿Threadç±»é™å®šäº†å…¶åŸºæœ¬è¡Œä¸ºï¼Œåœ¨è®¾è®¡ä¸Šè¿åå¤šç”¨ç»„åˆ å°‘ç”¨ç»§æ‰¿çš„åŸåˆ™ï¼Œæ‰€ä»¥ä¸€èˆ¬æ„é€ çº¿ç¨‹ä½¿ç”¨ç¬¬äºŒç§æ–¹å¼ï¼Œå®ç°Runableæ¥å£ã€‚</p><h4 id="1-2-æ„é€ çº¿ç¨‹çš„å±æ€§"><a href="#1-2-æ„é€ çº¿ç¨‹çš„å±æ€§" class="headerlink" title="1.2 æ„é€ çº¿ç¨‹çš„å±æ€§"></a>1.2 æ„é€ çº¿ç¨‹çš„å±æ€§</h4><p>æ„é€ çº¿ç¨‹æ—¶éœ€è¦æä¾›çº¿ç¨‹æ‰€éœ€è¦çš„å±æ€§ã€‚ä¸€ä¸ªæ–°çš„ï¼ˆchildï¼‰çº¿ç¨‹å¯¹è±¡æ˜¯ç”±parentçº¿ç¨‹è¿›è¡Œç©ºé—´åˆ†é…çš„ï¼Œè€Œchildçº¿ç¨‹ç»§æ‰¿äº†parentæ˜¯å¦ä¸ºDaemonã€ä¼˜å…ˆçº§ã€å’ŒåŠ è½½èµ„æºçš„contextClassLoaderä»¥åŠå¯ç»§æ‰¿çš„ThreadLocalç­‰å±æ€§ï¼ŒåŒæ—¶åˆ†é…å”¯ä¸€çš„IDæ¥è¡¨ç¤ºè¿™ä¸ªchildçº¿ç¨‹ã€‚å¦‚æœåˆ›å»ºçº¿ç¨‹å®ä¾‹åéœ€è¦ä¿®æ”¹çº¿ç¨‹å±æ€§ï¼Œåˆ™å¯ä»¥é€šè¿‡Threadæä¾›çš„ä¸€äº›ä¿®æ”¹å±æ€§çš„æ–¹æ³•è¿›è¡Œä¿®æ”¹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">setPriority() // ä¼˜å…ˆçº§</span><br><span class="line">getPriority()</span><br><span class="line">setName()ã€‚// çº¿ç¨‹å</span><br><span class="line">getName()</span><br><span class="line">setDaemon() // å®ˆæŠ¤çº¿ç¨‹</span><br><span class="line">isDaemon()</span><br><span class="line">getContextClassLoader()ã€‚// èµ„æºåŠ è½½</span><br><span class="line">setContextClassLoader()</span><br><span class="line">getStackTrace() </span><br><span class="line">getAllStackTraces()</span><br><span class="line">checkAccess()</span><br><span class="line">isCCLOverridden()</span><br><span class="line">auditSubclass() </span><br><span class="line">dumpThreads()</span><br><span class="line">getThreads()</span><br><span class="line">getId()</span><br><span class="line">getState()</span><br><span class="line">setDefaultUncaughtExceptionHandler()</span><br><span class="line">getDefaultUncaughtExceptionHandler()</span><br><span class="line">getUncaughtExceptionHandler()</span><br><span class="line">setUncaughtExceptionHandler()</span><br><span class="line">dispatchUncaughtException()</span><br><span class="line">processQueue()</span><br></pre></td></tr></table></figure></p><p>å½“ç„¶æ„é€ çº¿ç¨‹æ—¶æœ‰äº›å±æ€§è¿˜å¯ä»¥åœ¨åˆ›å»ºçº¿ç¨‹å®ä¾‹æ—¶å°±è®¾ç½®ï¼Œå¦‚çº¿ç¨‹ç»„ï¼Œæ ˆå¤§å°ï¼Œæ ˆåç§°ï¼Œæƒé™æ§åˆ¶ä¸Šä¸‹æ–‡ï¼Œå¯ç»§æ‰¿çš„ThreadLocalï¼Œä¸‹é¢æ˜¯JDKåˆå§‹åŒ–ä¸€ä¸ªçº¿ç¨‹å®ä¾‹æ—¶çš„ä»£ç ï¼Œæ‘˜è‡³<a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html" target="_blank" rel="noopener">JDK8</a>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> *</span><br><span class="line"> * @param g</span><br><span class="line"> * @param target</span><br><span class="line"> * @param name</span><br><span class="line"> * @param stackSize çº¿ç¨‹çš„æ ˆå¤§å° æ ¹æ®å‚æ•°ä¼ é€’è¿‡ç¨‹å¯ä»¥çœ‹å‡ºé»˜è®¤å¤§å°ä¸ºé›¶ï¼Œå³ä½¿ç”¨é»˜è®¤çš„çº¿ç¨‹æ ˆå¤§å°</span><br><span class="line"> * @param acc è®¿é—®æ§åˆ¶æƒé™</span><br><span class="line"> * @param inheritThreadLocals // å¯ç»§æ‰¿çš„ThreadLocal</span><br><span class="line"> *</span><br><span class="line"> * ThreadGroup çº¿ç¨‹ç»„ï¼ˆThreadGroupï¼‰å°±æ˜¯ç”±çº¿ç¨‹ç»„æˆçš„ç®¡ç†çº¿ç¨‹çš„ç±»ï¼Œ</span><br><span class="line"> *     è¿™ä¸ªç±»æ˜¯java.lang.ThreadGroupç±»ã€‚</span><br><span class="line"> *     å®šä¹‰ä¸€ä¸ªçº¿ç¨‹ç»„ï¼Œé€šè¿‡ä»¥ä¸‹ä»£ç å¯ä»¥å®ç°ã€‚</span><br><span class="line"> *     ThreadGroup group=new ThreadGroup(&quot;group&quot;);</span><br><span class="line"> *     Thread thread=new Thread(group,&quot;the first thread of group&quot;);</span><br><span class="line"> *     ThreadGroupç±»ä¸­çš„æŸäº›æ–¹æ³•ï¼Œå¯ä»¥å¯¹çº¿ç¨‹ç»„ä¸­çš„çº¿ç¨‹äº§ç”Ÿä½œç”¨ã€‚ä¾‹å¦‚ï¼ŒsetMaxPriority()æ–¹æ³•å¯ä»¥è®¾å®šçº¿ç¨‹ç»„ä¸­çš„æ‰€æœ‰çº¿ç¨‹æ‹¥æœ‰æœ€å¤§çš„ä¼˜å…ˆæƒã€‚</span><br><span class="line"> */</span><br><span class="line">private void init(ThreadGroup g, Runnable target, String name,</span><br><span class="line">                  long stackSize, AccessControlContext acc,</span><br><span class="line">                  boolean inheritThreadLocals) &#123;</span><br><span class="line">    if (name == null) &#123;// çº¿ç¨‹åï¼Œå¯ç›¸åŒ</span><br><span class="line">        throw new NullPointerException(&quot;name cannot be null&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    this.name = name;</span><br><span class="line"></span><br><span class="line">    Thread parent = currentThread();// è·å–å½“å‰çº¿ç¨‹ï¼Œå¹¶ä½œä¸ºçˆ¶çº¿ç¨‹ã€‚</span><br><span class="line">    SecurityManager security = System.getSecurityManager();// è·å–å®‰å…¨ç­–ç•¥</span><br><span class="line">    if (g == null) &#123;</span><br><span class="line">        /* Determine if it&apos;s an applet or not */</span><br><span class="line"></span><br><span class="line">        /* If there is a security manager, ask the security manager</span><br><span class="line">           what to do. */</span><br><span class="line">        if (security != null) &#123;//å¦‚æœå­˜åœ¨å®‰å…¨ç®¡ç†å™¨ï¼Œåˆ™è·å–å®ƒé‡å†™çš„çº¿ç¨‹ç»„</span><br><span class="line">            g = security.getThreadGroup();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /* If the security doesn&apos;t have a strong opinion of the matter</span><br><span class="line">           use the parent thread group. */</span><br><span class="line">        if (g == null) &#123;</span><br><span class="line">            g = parent.getThreadGroup();//ä½¿ç”¨çˆ¶çº¿ç¨‹ç»„</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /* checkAccess regardless of whether or not threadgroup is</span><br><span class="line">       explicitly passed in. */</span><br><span class="line">    g.checkAccess();</span><br><span class="line"></span><br><span class="line">    /*</span><br><span class="line">     * Do we have the required permissions?</span><br><span class="line">     */</span><br><span class="line">    if (security != null) &#123;</span><br><span class="line">        if (isCCLOverridden(getClass())) &#123;</span><br><span class="line">            security.checkPermission(SUBCLASS_IMPLEMENTATION_PERMISSION);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    g.addUnstarted();</span><br><span class="line"></span><br><span class="line">    this.group = g;</span><br><span class="line">    this.daemon = parent.isDaemon();//ç»§æ‰¿çˆ¶çº¿ç¨‹çš„å®ˆæŠ¤å±æ€§</span><br><span class="line">    this.priority = parent.getPriority();//ç»§æ‰¿çˆ¶çº¿ç¨‹çš„ä¼˜å…ˆçº§</span><br><span class="line">    //ç»§æ‰¿çˆ¶çº¿ç¨‹åŠ è½½èµ„æºçš„contextClassLoader</span><br><span class="line">    if (security == null || isCCLOverridden(parent.getClass()))</span><br><span class="line">        this.contextClassLoader = parent.getContextClassLoader();</span><br><span class="line">    else</span><br><span class="line">        this.contextClassLoader = parent.contextClassLoader;</span><br><span class="line">    this.inheritedAccessControlContext =</span><br><span class="line">            acc != null ? acc : AccessController.getContext();</span><br><span class="line">    this.target = target;</span><br><span class="line">    setPriority(priority);</span><br><span class="line">    // ç»§æ‰¿çˆ¶çº¿ç¨‹å¯ç»§æ‰¿çš„ThreadLocal</span><br><span class="line">    if (inheritThreadLocals &amp;&amp; parent.inheritableThreadLocals != null)</span><br><span class="line">        this.inheritableThreadLocals =</span><br><span class="line">            ThreadLocal.createInheritedMap(parent.inheritableThreadLocals);</span><br><span class="line">    /* Stash the specified stack size in case the VM cares */</span><br><span class="line">    this.stackSize = stackSize;</span><br><span class="line"></span><br><span class="line">    /* Set thread ID */</span><br><span class="line">    tid = nextThreadID();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-3-å¯åŠ¨çº¿ç¨‹"><a href="#1-3-å¯åŠ¨çº¿ç¨‹" class="headerlink" title="1.3 å¯åŠ¨çº¿ç¨‹"></a>1.3 å¯åŠ¨çº¿ç¨‹</h4><p>çº¿ç¨‹å¯¹è±¡åœ¨åˆå§‹åŒ–å®Œæˆåï¼Œè°ƒç”¨startæ–¹æ³•å°±å¯ä»¥å¯åŠ¨çº¿ç¨‹ã€‚<br><strong><em>æ³¨æ„ï¼šå¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œæœ€å¥½ä¸ºè¿™ä¸ªçº¿ç¨‹è®¾ç½®çº¿ç¨‹åç§°ï¼Œè¿™è¡Œæœ‰åŠ©äºåˆ†ææˆ–è€…æ’æŸ¥é—®é¢˜</em></strong></p><h3 id="2-ä¸­æ–­çº¿ç¨‹"><a href="#2-ä¸­æ–­çº¿ç¨‹" class="headerlink" title="2. ä¸­æ–­çº¿ç¨‹"></a>2. ä¸­æ–­çº¿ç¨‹</h3><h4 id="2-1-ä¸­æ–­çš„åŸç†"><a href="#2-1-ä¸­æ–­çš„åŸç†" class="headerlink" title="2.1 ä¸­æ–­çš„åŸç†"></a>2.1 ä¸­æ–­çš„åŸç†</h4><p>ä¸­æ–­ï¼Œå¯ä»¥ç†è§£ä¸ºè¿è¡Œä¸­çš„çº¿ç¨‹ï¼Œæ˜¯å¦è¢«å…¶ä»–çº¿ç¨‹è¿›è¡Œäº†ä¸­æ–­æ“ä½œã€‚ä¸­æ–­æ“ä½œåŒ…å«ä¸‰ä¸ªæ–¹æ³•ã€‚interrupt(),interrupted(),isInterrupted()ã€‚ä¸‹é¢æˆ‘ä»¬å°†å¯¹è¿™ä¸ªæ–¹æ³•è¿›è¡Œè¯¦ç»†äº†è§£ã€‚</p><h5 id="2-1-1-interrupt"><a href="#2-1-1-interrupt" class="headerlink" title="2.1.1 interrupt()"></a>2.1.1 interrupt()</h5><p>ä¸­æ–­æ“ä½œé€šè¿‡è°ƒç”¨çº¿ç¨‹çš„interrupt()æ–¹æ³•è¿›è¡Œã€‚ä¾‹å¦‚çº¿ç¨‹Aä¸­æ–­çº¿ç¨‹Bï¼Œåœ¨çº¿ç¨‹Açš„ä»£ç ä¸­è°ƒç”¨ThreadB.interrupt() å³å¯ã€‚</p><p>interrupt()æ–¹æ³•ä¸æ˜¯ç›´æ¥å°†çº¿ç¨‹ç»ˆæ­¢ï¼Œè€Œæ˜¯é’ˆå¯¹äºä¸åŒæƒ…å†µè¿›è¡Œä¸åŒå¤„ç†ã€‚</p><ol><li>é™¤éç»ˆæ­¢çš„æ˜¯å½“å‰çº¿ç¨‹ï¼ˆå§‹ç»ˆè¢«å…è®¸ï¼‰ï¼Œå¦åˆ™è°ƒç”¨checkAccessæ–¹æ³•ï¼Œå¯èƒ½ä¼šå¯¼è‡´æŠ›å‡ºSecurityExceptionå¼‚å¸¸ã€‚</li><li>å¦‚æœè°ƒç”¨Objectç±»çš„wait(),wait(long)æˆ–è€…wait(long, int)ç­‰æ–¹æ³•ï¼Œæˆ–è€…è°ƒç”¨æ­¤çº¿ç¨‹çš„join(),join(long),join(long, int), sleep(long), sleep(long, int)æ–¹æ³•ï¼Œ<strong><em>æ­¤çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€å°†è¢«æ¸…é™¤ï¼ŒåŒæ—¶å°†æŠ›å‡ºInterruptedExceptionå¼‚å¸¸</em></strong>ã€‚</li><li>å¦‚æœæ­¤çº¿ç¨‹åœ¨å¯ä¸­æ–­é€šé“çš„IOæ“ä½œä¸Šï¼Œé€šé“å°†è¢«å…³é—­ï¼Œçº¿ç¨‹è¢«è®¾ç½®ä¸­æ–­çŠ¶æ€ï¼ŒåŒæ—¶å°†æŠ›å‡ºClosedByInterruptExceptionå¼‚å¸¸ã€‚</li><li>å¦‚æœçº¿ç¨‹åœ¨é€‰æ‹©å™¨(Selector)é˜»å¡ï¼Œçº¿ç¨‹å°†è¢«è®¾ç½®ä¸­æ–­çŠ¶æ€ï¼Œç«‹å³ä»é€‰æ‹©æ“ä½œä¸­è¿”å›ï¼Œå¯èƒ½å¸¦æœ‰éé›¶å€¼ï¼Œå°±åƒé€‰æ‹©å™¨å”¤é†’æ–¹æ³•è¢«è°ƒç”¨ä¸€æ ·ã€‚</li><li>å¦‚æœä»¥ä¸Šçš„æ¡ä»¶éƒ½ä¸æ»¡è¶³ï¼Œæ­¤çº¿ç¨‹å°†è¢«è®¾ç½®ä¸­æ–­çŠ¶æ€ã€‚</li><li>ä¸­æ–­ä¸å­˜æ´»çš„çº¿ç¨‹ä¸ä¼šæœ‰ä»»ä½•å½±å“ã€‚</li></ol><p>ç¿»è¯‘è‡ª<a href="https://docs.oracle.com/javase/7/docs/api/" target="_blank" rel="noopener">Java se7docs</a></p><p>æ³¨ï¼šSelectorï¼ˆé€‰æ‹©å™¨ï¼‰æ˜¯Java NIOä¸­èƒ½å¤Ÿæ£€æµ‹ä¸€åˆ°å¤šä¸ªNIOé€šé“ï¼Œå¹¶èƒ½å¤ŸçŸ¥æ™“é€šé“æ˜¯å¦ä¸ºè¯¸å¦‚è¯»å†™äº‹ä»¶åšå¥½å‡†å¤‡çš„ç»„ä»¶ã€‚è¿™æ ·ï¼Œä¸€ä¸ªå•ç‹¬çš„çº¿ç¨‹å¯ä»¥ç®¡ç†å¤šä¸ªchannelï¼Œä»è€Œç®¡ç†å¤šä¸ªç½‘ç»œè¿æ¥ã€‚<br><strong><em>æ³¨æ„ï¼š</em></strong><br>å¯¹äºä¼šæŠ›å‡ºå¼‚å¸¸çš„æƒ…å†µï¼Œå¼‚å¸¸ä¸€å®šè¦å¤„ç†ï¼Œä¸€èˆ¬å­çº¿ç¨‹å¼‚å¸¸ä¸èƒ½æŠ›å‡ºéè¿è¡Œæ—¶å¼‚å¸¸ï¼Œæ‰€ä»¥å­çº¿ç¨‹æˆ‘ä»¬éœ€è¦æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œç”¨äºç»™çˆ¶çº¿ç¨‹æ•è·ã€‚æˆ–è€…åœ¨catchå—ä¸­ä½¿ç”¨ Thread.currentThread().interrupt() é‡æ–°æŠ›å‡ºä¸­æ–­æ¥ä¿è¯è°ƒç”¨æ ˆçš„é«˜å±‚çš„ä»£ç çŸ¥é“å½“å‰çº¿ç¨‹çš„ä¸­æ–­ã€‚</p><h5 id="2-1-2-interrupted"><a href="#2-1-2-interrupted" class="headerlink" title="2.1.2 interrupted()"></a>2.1.2 interrupted()</h5><p>interrupted()ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ä¸ªåŠŸèƒ½ï¼š</p><ol><li>æµ‹è¯•<strong><em>å½“å‰çº¿ç¨‹</em></strong>æ˜¯å¦è¢«ä¸­æ–­,æ¸…é™¤çº¿ç¨‹ä¸­æ–­çŠ¶æ€ã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œå¦‚æœå½“å‰æ–¹æ³•è¢«æˆåŠŸè°ƒç”¨ä¸¤æ¬¡ï¼Œåˆ™è¿”å›falseï¼ˆé™¤éå½“å‰çº¿ç¨‹åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ­¤æ–¹æ³•åç¬¬äºŒæ¬¡è°ƒç”¨æ­¤æ–¹æ³•å‰è¢«å†æ¬¡ä¸­æ–­ï¼‰ã€‚</li><li>çº¿ç¨‹ä¸­æ–­è¢«å¿½ç•¥ï¼Œåœ¨ä¸­æ–­æ—¶çº¿ç¨‹å¤„äºä¸æ´»åŠ¨çš„çŠ¶æ€å°†è¢«æ­¤æ–¹æ³•åæ˜ è¿”å›falseã€‚</li></ol><p>interrupted()ä¸åŒäºinterrupt(),æ­¤æ–¹æ³•ç”¨äºæµ‹è¯•å½“å‰çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­ï¼Œå¹¶æ¸…é™¤ä¸­æ–­çŠ¶æ€ã€‚ä»£ç ç¤ºä¾‹å¦‚ä¸‹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public static void main(String[] args) &#123;</span><br><span class="line">    Thread thread = new InterruptThread();</span><br><span class="line">    thread.start();</span><br><span class="line">    SleepUtils.sleep(1);</span><br><span class="line">    thread.interrupt();</span><br><span class="line">&#125;</span><br><span class="line">static class InterruptThread extends Thread&#123;</span><br><span class="line">   @Override</span><br><span class="line">   public void run() &#123;</span><br><span class="line">       int count = 0;</span><br><span class="line">       while(true)&#123;</span><br><span class="line">           count++;</span><br><span class="line">           if(Thread.currentThread().interrupted())&#123;//æ­¤å¤„ä»…ä»…æ˜¯ä¸ºäº†ç¤ºä¾‹</span><br><span class="line">               break;</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h5 id="2-1-3-isInterrupted"><a href="#2-1-3-isInterrupted" class="headerlink" title="2.1.3 isInterrupted()"></a>2.1.3 isInterrupted()</h5><ol><li>isInterruptedè™½ç„¶ä¹Ÿæ˜¯æµ‹è¯•çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­ï¼Œä½†æ˜¯æ­¤æ–¹æ³•ä¸ä¼šæ›´æ”¹çº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€ã€‚</li><li>çº¿ç¨‹ä¸­æ–­è¢«å¿½ç•¥ï¼Œåœ¨ä¸­æ–­æ—¶çº¿ç¨‹å¤„äºä¸æ´»åŠ¨çš„çŠ¶æ€å°†è¢«æ­¤æ–¹æ³•åæ˜ è¿”å›falseã€‚</li></ol><h3 id="3-ç»ˆæ­¢çº¿ç¨‹"><a href="#3-ç»ˆæ­¢çº¿ç¨‹" class="headerlink" title="3. ç»ˆæ­¢çº¿ç¨‹"></a>3. ç»ˆæ­¢çº¿ç¨‹</h3><h4 id="3-1-è¿‡æœŸçš„suspend-ã€resume-å’Œstop"><a href="#3-1-è¿‡æœŸçš„suspend-ã€resume-å’Œstop" class="headerlink" title="3.1 è¿‡æœŸçš„suspend()ã€resume()å’Œstop()"></a>3.1 è¿‡æœŸçš„suspend()ã€resume()å’Œstop()</h4><p>åœ¨Java APIä¸­ï¼Œsuspend()ã€resume()å’Œstop()ä¸‰ä¸ªæ–¹æ³•æ˜¯è¿‡æœŸçš„ï¼Œä¸å»ºè®®ä½¿ç”¨çš„ã€‚<br>ä¸»è¦åŸå› æ˜¯ï¼šsuspend()åœ¨è°ƒç”¨åï¼Œçº¿ç¨‹ä¸æ˜¯æ”¾å·²ç»å æœ‰çš„èµ„æºæ¯”å¦‚è¯´é”ï¼Œè€Œæ˜¯å æœ‰ç€èµ„æºè¿›å…¥ç¡çœ ï¼Œè¿™æ ·å®¹æ˜“å¼•å‘æ­»é”çŠ¶æ€ã€‚stop()æ–¹æ³•åœ¨ç»ˆç»“ä¸€ä¸ªçº¿ç¨‹æ—¶ä¸ä¼šä¿è¯çº¿ç¨‹èµ„æºçš„é‡Šæ”¾ï¼Œå› æ­¤å¯¼è‡´çº¿ç¨‹å¤„äºä¸ç¡®å®šçš„çŠ¶æ€ä¸‹ã€‚</p><p><strong><em>sleepå’ŒsuspendåŒºåˆ«ï¼š</em></strong><br>ç›¸åŒç‚¹ï¼šsleepå’Œsuspendéƒ½ä¼šæŒæœ‰å æœ‰çš„èµ„æºä¸é‡Šæ”¾ã€‚<br>ä¸åŒç‚¹ï¼šsleepé˜»å¡ï¼ˆTIMED_WAITINGï¼‰åï¼Œç»è¿‡ä¸€æ®µæ—¶é—´è‡ªè¡Œæ¢å¤è¿è¡Œã€‚è€Œsuspendå¿…é¡»ä½¿ç”¨resume()æ˜¾ç¤ºçš„æ¢å¤ï¼Œå¦‚æœä¸ä½¿ç”¨resume()æˆ–è€…resume()å¤±è´¥ï¼Œå¾ˆå®¹æ˜“å¼•èµ·èµ„æºå ç”¨å¯¼è‡´çš„æ­»é”ã€‚</p><h4 id="3-2-å®‰å…¨çš„ç»ˆæ­¢çº¿ç¨‹"><a href="#3-2-å®‰å…¨çš„ç»ˆæ­¢çº¿ç¨‹" class="headerlink" title="3.2 å®‰å…¨çš„ç»ˆæ­¢çº¿ç¨‹"></a>3.2 å®‰å…¨çš„ç»ˆæ­¢çº¿ç¨‹</h4><p>åœ¨ç¬¬2å°èŠ‚æåˆ°çš„ä¸­æ–­æ˜¯çº¿ç¨‹çš„ä¸€ä¸ªæ ‡ç¤ºä½ï¼Œä¸­æ–­æ“ä½œæ˜¯ä¸€ç§ç®€ä¾¿çš„çº¿ç¨‹é—´äº¤äº’æ–¹å¼ï¼Œè¿™ç§äº¤äº’æ–¹å¼é€‚åˆç”¨æ¥å–æ¶ˆå’Œåœæ­¢ä»»åŠ¡ã€‚é™¤äº†ä¸­æ–­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨åŒæ­¥å˜é‡æ¥æ§åˆ¶æ˜¯å¦åœæ­¢å¹¶ç»ˆæ­¢è¯¥çº¿ç¨‹ã€‚<br><strong><em>çº¿ç¨‹çš„ç»ˆæ­¢ä¸æ˜¯ç›´æ¥å¼ºåˆ¶çº¿ç¨‹åœæ­¢ï¼Œè€Œæ˜¯å¼•å¯¼çº¿ç¨‹è¿è¡Œç»“æŸã€‚</em></strong></p><h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><p><a href="https://www.ibm.com/developerworks/cn/java/j-lo-javasecurity/" target="_blank" rel="noopener">Java å®‰å…¨æ¨¡å‹ä»‹ç»</a><br><a href="https://docs.oracle.com/javase/7/docs/api/" target="_blank" rel="noopener">Class Thread</a><br><a href="https://my.oschina.net/u/2500836/blog/1538667" target="_blank" rel="noopener">Javaçº¿ç¨‹(1)-Threadç±»æºç </a><br><a href="https://book.douban.com/subject/26591326/" target="_blank" rel="noopener">Javaå¹¶å‘ç¼–ç¨‹è‰ºæœ¯</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä¸Šç¯‡å¯¹&lt;a href=&quot;https://zhongyp.me/2018/03/16/concurrent/2017-03-16-Thread-brief/&quot;&gt;ä»€ä¹ˆæ˜¯çº¿ç¨‹&lt;/a&gt;åšäº†ç®€å•çš„ä»‹ç»,æœ¬ç¯‡ä¸»è¦æ˜¯ä»æ„é€ çº¿ç¨‹ã€ä¸­æ–­çº¿ç¨‹ã€ç»ˆæ­¢çº¿ç¨‹3ä¸ªæ–¹é¢äº†è§£çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;h3 id=
      
    
    </summary>
    
    
      <category term="å¹¶å‘" scheme="http://zhongyp.me/tags/%E5%B9%B6%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>æˆ‘çš„åšå®¢</title>
    <link href="http://zhongyp.me/2018/11/28/life/2018-11-29-myblog/"/>
    <id>http://zhongyp.me/2018/11/28/life/2018-11-29-myblog/</id>
    <published>2018-11-27T16:00:00.000Z</published>
    <updated>2018-12-06T02:25:57.271Z</updated>
    
    <content type="html"><![CDATA[<p><strong>å°‘å¹´æ—¶ä»£å¯¹æœªæ¥ç”Ÿæ´»çš„æƒ³è±¡è™½ç„¶æœ¦èƒ§ï¼Œä½†å®é™…ä¸Šå´æœ‰ç€æé«˜çš„æœŸå¾…ã€‚ä½ æ€»è§‰å¾—ç°åœ¨åªæ˜¯æ´»ç€ï¼Œç­‰å¾…ç€ï¼Œç­‰å¾…ç€æŸä¸€åˆ»ä¼šé‡‘é¼“é½é¸£ï¼Œå…‰èŠ’å››å°„ï¼Œç„¶åï¼ŒçœŸæ­£çš„ç”Ÿæ´»å¼€å§‹äº†ã€‚ä½†æ—¥å¸¸ç”Ÿæ´»è‡ªæœ‰å®ƒè‡ªå·±ç¼“æ…¢è€Œå¹³é™çš„èŠ‚å¥ï¼Œå®ƒæ³¢æ¾œä¸å…´åœ°å‘å‰å¼¥æ¼«ï¼Œè¶Šè¿‡å²æœˆã€‚ç›´åˆ°ä½ éª¤ç„¶å‘ç°ï¼Œå¤§å¤šæ•°äººçš„ç”Ÿæ´»ä¸ä¼šæœ‰é‡‘é¼“é½é¸£çš„å¼€å§‹ï¼Œå¤§å¤šæ•°äººçš„ç”Ÿæ´»ï¼Œå°±æ˜¯ä¸€ç§æ°´æ»´çŸ³ç©¿çš„å•è°ƒå’Œå®é™ã€‚</strong></p><p>å¼€å§‹å†™åšå®¢ä¸€æ®µæ—¶é—´äº†ï¼Œåªæ˜¯æƒ³æ‰¾ä¸ªåœ°æ–¹è®°å½•ä¸‹è‡ªå·±çš„çœ‹è¿‡çš„ã€å­¦è¿‡çš„çŸ¥è¯†ï¼Œè®°å½•ä¸‹å­¦ä¹ çš„è¿‡ç¨‹ä¸­è‡ªå·±çš„æƒ³æ³•/æ„Ÿæ‚Ÿã€‚thinkingâ€¦ğŸŒ</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;å°‘å¹´æ—¶ä»£å¯¹æœªæ¥ç”Ÿæ´»çš„æƒ³è±¡è™½ç„¶æœ¦èƒ§ï¼Œä½†å®é™…ä¸Šå´æœ‰ç€æé«˜çš„æœŸå¾…ã€‚ä½ æ€»è§‰å¾—ç°åœ¨åªæ˜¯æ´»ç€ï¼Œç­‰å¾…ç€ï¼Œç­‰å¾…ç€æŸä¸€åˆ»ä¼šé‡‘é¼“é½é¸£ï¼Œå…‰èŠ’å››å°„ï¼Œç„¶åï¼ŒçœŸæ­£çš„ç”Ÿæ´»å¼€å§‹äº†ã€‚ä½†æ—¥å¸¸ç”Ÿæ´»è‡ªæœ‰å®ƒè‡ªå·±ç¼“æ…¢è€Œå¹³é™çš„èŠ‚å¥ï¼Œå®ƒæ³¢æ¾œä¸å…´åœ°å‘å‰å¼¥æ¼«ï¼Œè¶Šè¿‡å²æœˆã€‚ç›´åˆ°ä½ éª¤ç„¶å‘ç°ï¼Œå¤§å¤šæ•°äººçš„ç”Ÿæ´»ä¸ä¼šæœ‰é‡‘é¼“
      
    
    </summary>
    
    
      <category term="ç”Ÿæ´»" scheme="http://zhongyp.me/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>åšå®¢å£°æ˜</title>
    <link href="http://zhongyp.me/2018/11/28/life/2018-11-29-blog-announce/"/>
    <id>http://zhongyp.me/2018/11/28/life/2018-11-29-blog-announce/</id>
    <published>2018-11-27T16:00:00.000Z</published>
    <updated>2018-12-06T02:25:30.616Z</updated>
    
    <content type="html"><![CDATA[<p>åšå®¢ä¸­çš„æ–‡ç« ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜ï¼Œå‡ä¸ºåŸåˆ›ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„ï¼Œå¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼›å¿…é¡»åœ¨æ–‡ç« ä¸­ç»™å‡ºåŸæ–‡è¿æ¥ï¼›å¦åˆ™å¿…ç©¶æ³•å¾‹è´£ä»»ã€‚<br>åšå®¢ä¸­å¯èƒ½æœ‰äº›å†…å®¹æ‘˜å½•è‡³åˆ«äººçš„æ–‡ç« /åšå®¢/ä¹¦ï¼Œä»…ä¸ºä¸ªäººæ”¶è—ï¼Œåˆ†äº«çŸ¥è¯†ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åšä¸»è¿›è¡Œåˆ é™¤ã€‚ğŸ“§ï¼š<a href="mailto:zhongyp001@163.com" target="_blank" rel="noopener">zhongyp001@163.com</a>ï¼Œæ”¶åˆ°åä¸€å®šå°½å¿«åˆ é™¤ä¸æ‚¨çš„ç›¸å…³å†…å®¹ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åšå®¢ä¸­çš„æ–‡ç« ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜ï¼Œå‡ä¸ºåŸåˆ›ï¼Œæ¬¢è¿è½¬è½½ï¼Œä½†æœªç»ä½œè€…åŒæ„ï¼Œå¿…é¡»ä¿ç•™æ­¤æ®µå£°æ˜ï¼›å¿…é¡»åœ¨æ–‡ç« ä¸­ç»™å‡ºåŸæ–‡è¿æ¥ï¼›å¦åˆ™å¿…ç©¶æ³•å¾‹è´£ä»»ã€‚&lt;br&gt;åšå®¢ä¸­å¯èƒ½æœ‰äº›å†…å®¹æ‘˜å½•è‡³åˆ«äººçš„æ–‡ç« /åšå®¢/ä¹¦ï¼Œä»…ä¸ºä¸ªäººæ”¶è—ï¼Œåˆ†äº«çŸ¥è¯†ï¼Œå¦‚æœ‰ä¾µæƒï¼Œè¯·è”ç³»åšä¸»è¿›è¡Œåˆ é™¤ã€‚ğŸ“§ï¼š&lt;a href=&quot;mailto
      
    
    </summary>
    
    
      <category term="ç”Ÿæ´»" scheme="http://zhongyp.me/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>å¹¶å‘çŸ¥è¯†æ¶æ„</title>
    <link href="http://zhongyp.me/2018/11/16/concurrency/2018-11-27-concurrency-structure/"/>
    <id>http://zhongyp.me/2018/11/16/concurrency/2018-11-27-concurrency-structure/</id>
    <published>2018-11-15T16:00:00.000Z</published>
    <updated>2018-12-04T06:03:49.953Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/media/concurrency.png" alt="Javaå¹¶å‘æ¶æ„å›¾"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;/media/concurrency.png&quot; alt=&quot;Javaå¹¶å‘æ¶æ„å›¾&quot;&gt;&lt;/p&gt;

      
    
    </summary>
    
    
      <category term="å¹¶å‘" scheme="http://zhongyp.me/tags/%E5%B9%B6%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>Gitå¸¸ç”¨å‘½ä»¤æ€»ç»“</title>
    <link href="http://zhongyp.me/2018/10/23/utils/2018-10-23-git/"/>
    <id>http://zhongyp.me/2018/10/23/utils/2018-10-23-git/</id>
    <published>2018-10-22T16:00:00.000Z</published>
    <updated>2018-12-10T10:13:21.631Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><p>ç³»ç»Ÿç³»ç»Ÿæ€§çš„å­¦ä¹ Gitï¼Œè¯·ç§»æ­¥<a href="https://git-scm.com/book/zh/v2/%E8%B5%B7%E6%AD%A5-%E5%85%B3%E4%BA%8E%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6" target="_blank" rel="noopener">Gitä¸­æ–‡å­¦ä¹ æ–‡æ¡£</a>ï¼Œè¿™ç¯‡æ–‡ç« åªæ˜¯åˆ†ç±»è®°å½•ä¸€ä¸‹gitçš„å¸¸ç”¨å‘½ä»¤ã€‚<br><img src="/media/15403035072735.png" alt="Gitç‰ˆæœ¬æ§åˆ¶ç³»ç»ŸVCSåŸºæœ¬æ“ä½œæµç¨‹å›¾"></p><h2 id="å¸¸ç”¨å‘½ä»¤æ€»ç»“"><a href="#å¸¸ç”¨å‘½ä»¤æ€»ç»“" class="headerlink" title="å¸¸ç”¨å‘½ä»¤æ€»ç»“"></a>å¸¸ç”¨å‘½ä»¤æ€»ç»“</h2><h3 id="Gitåˆå§‹åŒ–"><a href="#Gitåˆå§‹åŒ–" class="headerlink" title="Gitåˆå§‹åŒ–"></a>Gitåˆå§‹åŒ–</h3><p><code>git init</code> å°†å½“å‰ç›®å½•å˜ä¸ºå¯ç®¡ç†çš„ä»“åº“<br><code>git clone</code> å…‹éš†ä¸€ä¸ªä»“åº“åˆ°æœ¬åœ°<br><code>git clone -b branch uri</code> å…‹éš†æŒ‡å®šbranchåˆ†æ”¯åˆ°æœ¬åœ°<br><code>git config user.name</code> æŸ¥çœ‹ç”¨æˆ·å<br><code>git config user.email</code> æŸ¥çœ‹é‚®ç®±</p><h3 id="è®¾ç½®ä¸é…ç½®"><a href="#è®¾ç½®ä¸é…ç½®" class="headerlink" title="è®¾ç½®ä¸é…ç½®"></a>è®¾ç½®ä¸é…ç½®</h3><p><code>git config -global user.name/email &quot;å‚æ•°&quot;</code> gitæ˜¯åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ï¼Œæ‰€ä»¥æ·»åŠ ç”¨æˆ·åå’Œé‚®ç®±ä½œä¸ºä¸€ä¸ªæ ‡è¯†<br><code>ssh -keygen -t rsa -C &quot;email&quot;</code> ç”Ÿæˆæœ¬åœ°ssh key</p><h3 id="æœ¬åœ°ç‰ˆæœ¬åº“"><a href="#æœ¬åœ°ç‰ˆæœ¬åº“" class="headerlink" title="æœ¬åœ°ç‰ˆæœ¬åº“"></a>æœ¬åœ°ç‰ˆæœ¬åº“</h3><p><code>git add &quot;filename.*&quot;</code> æ·»åŠ åˆ°æš‚å­˜åŒº<br><code>git commit -m &quot;filename.*&quot;</code> æäº¤åˆ°ä»“åº“<br><code>git commit --amend</code> å°è¯•é‡æ–°æäº¤,è¿™ä¸ªæ“ä½œéœ€è¦ç»„åˆæ“ä½œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git add file1 // å°†file1 æ·»åŠ è‡³ç¼“å­˜åŒº</span><br><span class="line">git commmit -m &quot;update files&quot; //æäº¤file1åˆ°æœ¬åœ°ä»“åº“,æäº¤å®Œå‘ç°å¿˜è®°file2æ²¡æœ‰æäº¤ï¼Œåˆ™ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼Œæäº¤file2å¹¶è¦†ç›–ä¹‹å‰çš„æäº¤ä¿¡æ¯ã€‚</span><br><span class="line">git add file2 // æ·»åŠ file2</span><br><span class="line">git commit -amend // å°è¯•é‡æ–°æäº¤commitä¿¡æ¯ï¼Œå¹¶è¦†ç›–æ‰ä¹‹å‰çš„æäº¤ä¿¡æ¯</span><br></pre></td></tr></table></figure><p><code>git status</code> æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€<br><code>git diff filename.*</code> æŸ¥çœ‹ä¿®æ”¹äº†ä»€ä¹ˆ<br><code>git log</code> çœ‹çœ‹æ¯æ¬¡ä¿®æ”¹çš„æ—¥å¿—<br><code>git log --pretty=oneline</code> æ—¥å¿—æ˜¾ç¤ºä¸ºç¼©ç•¥ç‰ˆ<br>æ³¨ï¼š<code>git reset</code> ä¸åŠ <code>--hard</code>å‚æ•°å¯¹å½“å‰å·¥ä½œåŒºæ–‡ä»¶ä¸ä¼šæœ‰ä»»ä½•ä¿®æ”¹ï¼Œåªæ˜¯å¯¹ç¼“å­˜åŒºè¿›è¡Œæ“ä½œã€‚ä¸€æ—¦åŠ äº†å‚æ•°ï¼Œæ“ä½œä¸€å®šè¦æ…é‡ï¼Œå¦åˆ™ä½ å½“å‰å·¥ä½œåŒºä¸­çš„ä¿®æ”¹å°†ä¼šå…¨éƒ¨è¢«æ¸…é™¤ã€‚<br><code>git reset HEAD file</code> å°†fileé€€å›åˆ°å½“å‰ç‰ˆæœ¬ï¼ˆä»…ä»…æ˜¯å¯¹ç¼“å­˜åŒºè¿›è¡Œæ“ä½œï¼‰<br><code>git reset --hard HEAD^</code> é€€å›åˆ°ä¸Šä¸€ç‰ˆæœ¬<br><code>git reset --hard HEAD^^</code> é€€å›åˆ°å‰äºŒçš„ç‰ˆæœ¬<br><code>git reset --hard HEAD~100</code> é€€å›åˆ°å‰100ç‰ˆæœ¬<br><code>git reset --hard ç‰ˆæœ¬å·</code> é€€å›åˆ°ä¸€ä¸ªç‰¹å®šçš„ç‰ˆæœ¬<br><code>git reflog</code> æŸ¥çœ‹ç‰ˆæœ¬å·å’Œä¸Šä¸€ä¸ªå‘½ä»¤ä¸€å—ç”¨æ•ˆæœæ¯”è¾ƒå¥½<br><code>git reset --mixed</code> å°†å½“å‰æ–‡ä»¶æ’¤å‡ºç¼“å­˜åŒºï¼Œä¿ç•™æ–‡ä»¶ä¿®æ”¹<br><code>git rm --cached file</code> åˆ é™¤ç¼“å­˜åŒºfile<br><code>git checkout -- file</code> æ¢å¤å·¥ä½œåŒºfileï¼ˆå–æ¶ˆå·¥ä½œåŒºæ–‡ä»¶çš„ä¿®æ”¹ï¼‰</p><h3 id="è¿œç¨‹ç‰ˆæœ¬åº“"><a href="#è¿œç¨‹ç‰ˆæœ¬åº“" class="headerlink" title="è¿œç¨‹ç‰ˆæœ¬åº“"></a>è¿œç¨‹ç‰ˆæœ¬åº“</h3><p><code>git remote add origin è¿œç¨‹gitåœ°å€</code> è¿æ¥<br><code>git push -u origin master</code> æŠŠæœ¬åœ°åº“åˆ†æ”¯masterå†…å®¹æ¨é€åˆ°è¿œç¨‹åº“ï¼ˆ-u å‘½ä»¤åœ¨ç¬¬ä¸€æ¬¡å…³è”æœ¬åœ°åº“å’Œè¿œç¨‹åº“æ—¶ä½¿ç”¨ï¼‰<br><code>git clone url</code> å…‹éš†è¿œç¨‹(url)åº“</p><h3 id="gitåˆ†æ”¯æ“ä½œ"><a href="#gitåˆ†æ”¯æ“ä½œ" class="headerlink" title="gitåˆ†æ”¯æ“ä½œ"></a>gitåˆ†æ”¯æ“ä½œ</h3><p>é¦–å…ˆmasterä¸»åˆ†æ”¯åº”è¯¥æ˜¯éå¸¸ç¨³å®šçš„ï¼Œä¹Ÿå°±æ˜¯ç”¨æ¥å‘å¸ƒæ–°ç‰ˆæœ¬ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸å…è®¸åœ¨ä¸Šé¢å¹²æ´»ï¼Œå¹²æ´»ä¸€èˆ¬æƒ…å†µä¸‹åœ¨æ–°å»ºçš„devåˆ†æ”¯ä¸Šå¹²æ´»ï¼Œå¹²å®Œåï¼Œæ¯”å¦‚ä¸Šè¦å‘å¸ƒï¼Œæˆ–è€…è¯´devåˆ†æ”¯ä»£ç ç¨³å®šåå¯ä»¥åˆå¹¶åˆ°ä¸»åˆ†æ”¯masterä¸Šæ¥ã€‚</p><p><code>git branch</code> æŸ¥çœ‹åˆ†æ”¯<br><code>git checkout</code> åˆ‡æ¢åˆ†æ”¯<br><code>git checkout -b</code>  åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯<br><code>git merge</code> åˆå¹¶åˆ°å½“å‰åˆ†æ”¯<br><code>git branch -d</code>åˆ é™¤æŸåˆ†æ”¯<br><code>git merge --no-ff -m &quot;æ³¨é‡Š&quot;</code>åˆ†æ”¯åˆå¹¶åˆ†æ”¯ç¦ç”¨fast forward<br><code>git stash</code> å°†å½“å‰åˆ†æ”¯çš„å·¥ä½œç°åœºä¿ç•™ä¸‹æ¥<br><code>git stash list</code> æŸ¥çœ‹å·¥ä½œç°åœº<br><code>git stash apply</code> æ¢å¤å†…å®¹ä½†æ˜¯ä½ éœ€è¦git stash dropåˆ é™¤stash<br><code>git stash pop</code> æ¢å¤çš„åŒæ—¶æŠŠstashå†…å®¹ä¹Ÿåˆ é™¤<br><code>git remote</code> æŸ¥çœ‹è¿œç¨‹åº“çš„ä¿¡æ¯<br><code>git remote -v</code> æŸ¥çœ‹è¿œç¨‹åº“çš„è¯¦ç»†ä¿¡æ¯<br><code>git push origin master</code> masterä¸ºæœ¬åœ°çš„åˆ†æ”¯åæ¨é€åˆ†æ”¯<br><code>git checkout -b dev origin/dev</code> devä¸ºåˆ†æ”¯åï¼Œåšå®Œå¼€å‘å<br><code>git push origin dev</code> æ¨é€åˆ°è¿œç¨‹åº“<br><code>git pull</code> æŠ“å–æœ€æ–°çš„æäº¤,å¹¶å°è¯•è‡ªåŠ¨åˆå¹¶åˆ°æœ¬åœ°å½“å‰æ‰€åœ¨çš„åˆ†æ”¯<br><code>git fetch</code> æŠ“å–æœ€æ–°çš„æäº¤ï¼Œä¸ä¼šè‡ªåŠ¨åˆå¹¶ï¼Œå¿…é¡»æ‰‹åŠ¨ã€‚<br><code>git rebase</code> å˜åŸº,å°†æäº¤åˆ°æŸä¸€åˆ†æ”¯ä¸Šçš„æ‰€æœ‰ä¿®æ”¹éƒ½ç§»è‡³å¦ä¸€åˆ†æ”¯ä¸Š<br><code>git rebase --continue</code> <strong><em>ç»§ç»­å˜åŸºæ“ä½œï¼Œä¸€èˆ¬ç”¨äºç¬¬ä¸€æ¬¡å˜åŸºå¤±è´¥åï¼Œè§£å†³å†²çªæ–‡ä»¶ï¼Œå°†å†²çªæ–‡ä»¶æ·»åŠ åˆ°ç¼“å­˜åŒºï¼Œä¸è¦æäº¤ï¼Œç„¶åå†æ‰§è¡Œæ­¤å‘½ä»¤ã€‚å¦‚æœæäº¤äº†ï¼Œæ‰§è¡Œ<code>git rebase --skip</code>å‘½ä»¤å–æ¶ˆrebaseçŠ¶æ€ã€‚</em></strong><br><code>git branch --set-upstream dev origin/dev</code> æŒ‡å®šæœ¬åœ°devåˆ†æ”¯ï¼ˆå·²ç»åˆ›å»ºçš„ï¼‰ä¸è¿œç¨‹origin/devåˆ†æ”¯çš„è¿æ¥<br><code>git branch -u origin/dev</code> æŒ‡å®šå½“å‰æ‰€åœ¨è¿æ¥è¿œç¨‹origin/devåˆ†æ”¯çš„è¿æ¥<br><code>git checkout --track origin/dev</code> åˆ›å»ºæ–°çš„devåˆ†æ”¯ï¼Œåˆ¶å®šè¿œç¨‹è¿æ¥origin/dev</p><p>æ³¨ï¼šå¦‚æœé¡ºç€ä¸€ä¸ªåˆ†æ”¯èµ°ä¸‹å»èƒ½å¤Ÿåˆ°è¾¾å¦ä¸€ä¸ªåˆ†æ”¯ï¼Œé‚£ä¹ˆGitåœ¨åˆå¹¶ä¸¤è€…çš„æ—¶å€™ï¼Œåªä¼šç®€å•çš„å°†æŒ‡é’ˆå‘å‰æ¨è¿›ï¼ˆæŒ‡é’ˆå³ç§»ï¼‰ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹çš„åˆå¹¶æ“ä½œæ²¡æœ‰éœ€è¦è§£å†³çš„åˆ†æ­§â€”â€”è¿™å°±å«åš â€œå¿«è¿›ï¼ˆfast-forwardï¼‰â€ã€‚</p><h3 id="å¤šäººåä½œ"><a href="#å¤šäººåä½œ" class="headerlink" title="å¤šäººåä½œ"></a>å¤šäººåä½œ</h3><ol><li>æ¯å¼€å‘ä¸€ä¸ªæ–°ç‰¹æ€§å¯ä»¥æ–°å»ºä¸€ä¸ªæœ¬åœ°ç‰¹æ€§åˆ†æ”¯ï¼Œå¼€å‘å®Œæˆååˆå¹¶åˆ°æœ¬åœ°ä¸»çº¿ã€‚</li><li>å¦‚æœä¸ä½¿ç”¨ç‰¹æ€§åˆ†æ”¯å¼€å‘å¯ä»¥ä½¿ç”¨<code>git stash</code>ä¿å­˜å½“å‰çš„å·¥ä½œç©ºé—´ã€‚</li><li>è¿œç¨‹ä»£ç å’Œæœ¬åœ°ä»£ç åˆå¹¶æœ‰ä¸¤ç§æ–¹å¼ï¼Œ<code>git pull</code>å’Œ<code>git fetch</code>ï¼Œ<code>git pull</code>å‘½ä»¤ä¼šè‡ªåŠ¨åˆå¹¶è¿œç¨‹ä»£ç ï¼Œå†²çªåéœ€è¦è§£å†³å†²çªåæäº¤ã€‚<code>git fetch</code>ä¸è‡ªåŠ¨å’Œæœ¬åœ°ä»£ç åˆå¹¶ï¼Œéœ€è¦æ‰‹åŠ¨mergeã€‚</li><li>åœ¨åˆå¹¶æ—¶ï¼Œæ ¹æ®é¡¹ç›®æƒ…å†µä½¿ç”¨<a href="https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA" target="_blank" rel="noopener">å˜åŸº</a>ï¼Œ<code>git pull --rebase</code>å¯ä»¥ä¿æŒè‡ªåŠ¨åˆå¹¶çš„æƒ…å†µä¸‹è¿›è¡Œå˜åŸºã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¿œç¨‹åº“ä¸ä¿ç•™æœ¬åœ°æ“ä½œå†å²ï¼Œæ‰€ä»¥æœ¬åœ°ä¸è¿œç¨‹ä»£ç åˆå¹¶æ—¶æœ€å¥½ä½¿ç”¨å˜åŸºã€‚</li><li><strong><em>ä½¿ç”¨å˜åŸºåŸåˆ™</em></strong>ï¼šåªå¯¹å°šæœªæ¨é€æˆ–åˆ†äº«ç»™åˆ«äººçš„æœ¬åœ°ä¿®æ”¹æ‰§è¡Œå˜åŸºæ“ä½œæ¸…ç†å†å²ï¼Œä»ä¸å¯¹å·²æ¨é€è‡³åˆ«å¤„çš„æäº¤æ‰§è¡Œå˜åŸºæ“ä½œï¼Œè¿™æ ·ï¼Œä½ æ‰èƒ½äº«å—åˆ°ä¸¤ç§æ–¹å¼å¸¦æ¥çš„ä¾¿åˆ©ã€‚</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Git&quot;&gt;&lt;a href=&quot;#Git&quot; class=&quot;headerlink&quot; title=&quot;Git&quot;&gt;&lt;/a&gt;Git&lt;/h2&gt;&lt;p&gt;ç³»ç»Ÿç³»ç»Ÿæ€§çš„å­¦ä¹ Gitï¼Œè¯·ç§»æ­¥&lt;a href=&quot;https://git-scm.com/book/zh/v2/%E8%B5%B7%E
      
    
    </summary>
    
    
      <category term="Utils" scheme="http://zhongyp.me/tags/Utils/"/>
    
  </entry>
  
  <entry>
    <title>Spring AOPæ¦‚å¿µåŠæœ¯è¯­</title>
    <link href="http://zhongyp.me/2018/10/03/spring/2018-09-28-AOP/"/>
    <id>http://zhongyp.me/2018/10/03/spring/2018-09-28-AOP/</id>
    <published>2018-10-02T16:00:00.000Z</published>
    <updated>2018-12-10T10:35:52.618Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Spring-AOP"><a href="#Spring-AOP" class="headerlink" title="Spring AOP"></a>Spring AOP</h2><p>æœ¬ç¯‡æ–‡ç« ç¿»è¯‘è‡ª<a href="https://www.tutorialspoint.com/spring/aop_with_spring.htm" target="_blank" rel="noopener">AOP with Spring</a>ï¼Œä¸»è¦ä»‹ç»æ˜¯å…³äºAOPçš„æ¦‚å¿µã€‚</p><h3 id="Brief-introduction-ï¼ˆç®€ä»‹ï¼‰"><a href="#Brief-introduction-ï¼ˆç®€ä»‹ï¼‰" class="headerlink" title="Brief introduction ï¼ˆç®€ä»‹ï¼‰"></a>Brief introduction ï¼ˆç®€ä»‹ï¼‰</h3><p>One of the key components of Spring Framework is the Aspect oriented programming (AOP) framework. Aspect-Oriented Programming entails breaking down program logic into distinct parts called so-called concerns. The functions that span multiple points of an application are called cross-cutting concerns and these cross-cutting concerns are conceptually separate from the applicationâ€™s business logic. There are various common good examples of aspects like logging, auditing, declarative transactions, security, caching, etc.</p><p>The key unit of modularity in OOP is the class, whereas in AOP the unit of modularity is the aspect. Dependency Injection helps you decouple your application objects from each other and AOP helps you decouple cross-cutting concerns from the objects that they affect. AOP is like triggers in programming languages such as Perl, .NET, Java, and others.</p><p>Spring AOP module provides interceptors to intercept an application. For example, when a method is executed, you can add extra functionality before or after the method execution.</p><p>ç¿»è¯‘ï¼š</p><p>AOPé¢å‘åˆ‡é¢ç¼–ç¨‹æ˜¯Springæ¡†æ¶ä¸­çš„æœ€å…³é”®çš„éƒ¨åˆ†ä¹‹ä¸€ã€‚é¢å‘åˆ‡é¢ç¼–ç¨‹éœ€è¦æ‹†åˆ†ç¨‹åºé€»è¾‘åˆ°è¢«ç§°ä¸ºå…³æ³¨ç‚¹çš„ä¸åŒéƒ¨åˆ†ã€‚ä¸€ä¸ªåœ¨åº”ç”¨ç¨‹åºå†…è·¨è¶Šå¤šä¸ªç‚¹çš„æ–¹æ³•è¢«ç§°ä¸ºæ¨ªåˆ‡ç‚¹ï¼Œè¿™äº›æ¨ªåˆ‡ç‚¹å’Œåº”ç”¨çš„ä¸šåŠ¡é€»è¾‘åœ¨æ¦‚å¿µä¸Šæ˜¯åˆ†å¼€çš„ã€‚ç›®å‰å·²ç»æœ‰å¾ˆå¤šåº”ç”¨åˆ‡é¢çš„ä¾‹å­ï¼Œæ¯”å¦‚æ—¥å¿—ï¼Œå®¡è®¡ï¼Œå£°æ˜å¼äº‹åŠ¡ï¼Œå®‰å…¨ï¼Œç¼“å­˜ç­‰ã€‚</p><p>åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ï¼Œæ¨¡å—åŒ–çš„å…³é”®å•å…ƒæ˜¯ç±»ï¼Œä½†æ˜¯åœ¨é¢å‘åˆ‡é¢ç¼–ç¨‹ä¸­ï¼Œæ¨¡å—åŒ–å•å…ƒæ˜¯åˆ‡é¢ã€‚ä¾èµ–æ³¨å…¥å¸®åŠ©ä½ å°†åº”ç”¨ä¸­çš„å¯¹è±¡ç›¸äº’è§£è€¦ï¼ŒAOPå¸®åŠ©ä½ å°†æ¨ªåˆ‡ç‚¹ä»å®ƒä»¬ä½œç”¨çš„å¯¹è±¡ä¸­è§£è€¦ã€‚AOPå°±åƒæ˜¯Perl,.NET,Javaæˆ–è€…å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„è§¦å‘å™¨ã€‚</p><p>Spring AOPæ¨¡å—æä¾›æ‹¦æˆªåº”ç”¨çš„æ‹¦æˆªå™¨ã€‚ä¸¾ä¸ªğŸŒ°ï¼Œä½ å¯ä»¥åœ¨ä½ è¿è¡Œçš„æ–¹æ³•ä¹‹å‰æˆ–è€…ä¹‹åæ·»åŠ é¢å¤–çš„åŠŸèƒ½æˆ–è€…æ–¹æ³•ã€‚</p><h3 id="AOP-Terminologiesï¼ˆAOP-æœ¯è¯­ï¼‰"><a href="#AOP-Terminologiesï¼ˆAOP-æœ¯è¯­ï¼‰" class="headerlink" title="AOP Terminologiesï¼ˆAOP æœ¯è¯­ï¼‰"></a>AOP Terminologiesï¼ˆAOP æœ¯è¯­ï¼‰</h3><h4 id="Aspectï¼ˆåˆ‡é¢ï¼‰"><a href="#Aspectï¼ˆåˆ‡é¢ï¼‰" class="headerlink" title="Aspectï¼ˆåˆ‡é¢ï¼‰"></a>Aspectï¼ˆåˆ‡é¢ï¼‰</h4><p>This is a module which has a set of APIs providing cross-cutting requirements. For example, a logging module would be called AOP aspect for logging. An application can have any number of aspects depending on the requirement.</p><p>ç¿»è¯‘ï¼š Aspectä¸€ä¸ªæä¾›æ¨ªåˆ‡ï¼ˆcross-cuttingï¼‰APIsçš„æ¨¡å—ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ—¥å¿—æ¨¡å—è¢«ç§°ä¸ºAOP æ—¥å¿—åˆ‡é¢ã€‚ä¸€ä¸ªåº”ç”¨å¯ä»¥æ ¹æ®éœ€æ±‚æ‹¥æœ‰ä»»ä½•æ•°é‡çš„åˆ‡é¢ã€‚</p><h4 id="Join-pointï¼ˆè¿æ¥ç‚¹ï¼‰"><a href="#Join-pointï¼ˆè¿æ¥ç‚¹ï¼‰" class="headerlink" title="Join pointï¼ˆè¿æ¥ç‚¹ï¼‰"></a>Join pointï¼ˆè¿æ¥ç‚¹ï¼‰</h4><p>This represents a point in your application where you can plug-in the AOP aspect. You can also say, it is the actual place in the application where an action will be taken using Spring AOP framework.</p><p>ç¿»è¯‘ï¼š åœ¨åº”ç”¨ä¸­å¯ä»¥æ’å…¥AOPåˆ‡é¢çš„åœ°æ–¹å¯è¢«æŠ½è±¡ä¸ºä¸€ä¸ªç‚¹ã€‚ä½ ä¹Ÿå¯ä»¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªåœ¨åº”ç”¨ä¸­å­˜åœ¨çš„åœ°æ–¹ï¼Œè¿™ä¸ªåœ°æ–¹å°†è¢«Spring AOP æ¡†æ¶æ‰§è¡Œä¸€äº›åŠ¨ä½œã€‚</p><p>Adviceï¼ˆé€šçŸ¥ï¼‰</p><p>This is the actual action to be taken either before or after the method execution. This is an actual piece of code that is invoked during the program execution by Spring AOP framework.</p><p>ç¿»è¯‘ï¼šAdviceæ˜¯ä¸€ä¸ªå®é™…çš„åŠ¨ä½œï¼Œå®ƒå°†åœ¨æ–¹æ³•æ‰§è¡Œå‰å’Œæ–¹æ³•æ‰§è¡Œåæ‰§è¡Œã€‚è¿™æ®µä»£ç é€šè¿‡Spring AOPæ¡†æ¶åœ¨ç¨‹åºè¿è¡Œæ—¶è¢«è°ƒç”¨ã€‚</p><h4 id="Pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰"><a href="#Pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰" class="headerlink" title="Pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰"></a>Pointcutï¼ˆåˆ‡å…¥ç‚¹ï¼‰</h4><p>This is a set of one or more join points where an advice should be executed. You can specify pointcuts using expressions or patterns as we will see in our AOP examples.</p><p>ç¿»è¯‘ï¼šPointcutæ˜¯ä¸€ä¸ªæˆ–è€…å¤šä¸ªè¿æ¥ç‚¹çš„é›†åˆã€‚æ­£å¦‚æˆ‘ä»¬å°†åœ¨AOPä¾‹å­ä¸­çœ‹åˆ°çš„ï¼Œä½ å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼åˆ¶å®šä½ çš„åˆ‡å…¥ç‚¹ã€‚</p><h4 id="Introductionï¼ˆå¼•å…¥ï¼‰"><a href="#Introductionï¼ˆå¼•å…¥ï¼‰" class="headerlink" title="Introductionï¼ˆå¼•å…¥ï¼‰"></a>Introductionï¼ˆå¼•å…¥ï¼‰</h4><p>An introduction allows you to add new methods or attributes to the existing classes.</p><p>ç¿»è¯‘ï¼šå¼•å…¥å¯ä»¥å…è®¸ä½ æ·»åŠ æ–°çš„æ–¹æ³•æˆ–è€…å±æ€§åˆ°å·²ç»å­˜åœ¨çš„ç±»ä¸­ã€‚</p><h4 id="Target-object"><a href="#Target-object" class="headerlink" title="Target object"></a>Target object</h4><p>The object being advised by one or more aspects. This object will always be a proxied object, also referred to as the advised object.</p><p>ç¿»è¯‘ï¼šè¿™ä¸ªå¯¹è±¡è¢«ä¸€ä¸ªæˆ–è€…å¤šä¸ªåˆ‡é¢é€šçŸ¥ã€‚è¿™ä¸ªå¯¹è±¡ä¸€èˆ¬æ˜¯ä»£ç†å¯¹è±¡ï¼Œä½œä¸ºè¢«é€šçŸ¥å¯¹è±¡å¼•ç”¨ã€‚</p><h4 id="Weavingï¼ˆç»‡å…¥ï¼‰"><a href="#Weavingï¼ˆç»‡å…¥ï¼‰" class="headerlink" title="Weavingï¼ˆç»‡å…¥ï¼‰"></a>Weavingï¼ˆç»‡å…¥ï¼‰</h4><p>Weaving is the process of linking aspects with other application types or objects to create an advised object. This can be done at compile time, load time, or at runtime.</p><p>ç¿»è¯‘ï¼šç»‡å…¥æ˜¯é“¾æ¥åˆ‡é¢å’Œå…¶ä»–åº”ç”¨ç±»å‹æˆ–è€…å¯¹è±¡æ¥åˆ›å»ºé€šçŸ¥å¯¹è±¡çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥åœ¨ç¼–è¯‘ã€åŠ è½½æˆ–è€…æ‰§è¡ŒæœŸé—´è¿›è¡Œã€‚</p><h3 id="Types-of-Advice"><a href="#Types-of-Advice" class="headerlink" title="Types of Advice"></a>Types of Advice</h3><p>Spring aspects can work with five kinds of advice mentioned as follows.<br>ç¿»è¯‘ï¼šSpring åˆ‡é¢å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æåˆ°çš„äº”ç§advice</p><ul><li><p>before: Run advice before a method execution.</p></li><li><p>after: Run advice after a method execution.</p></li><li><p>after-returning: Run advice after the a method execution only if method completes successfully.</p></li><li><p>after-throwing: Run advice after the method execution only if method exits by throwing an exception.</p></li><li><p>around: Run advice before and after the advised method is invoked.</p></li></ul><h3 id="Custom-Aspects-Implementation-è‡ªå®šä¹‰æ¥å£å®ç°"><a href="#Custom-Aspects-Implementation-è‡ªå®šä¹‰æ¥å£å®ç°" class="headerlink" title="Custom Aspects Implementation(è‡ªå®šä¹‰æ¥å£å®ç°)"></a>Custom Aspects Implementation(è‡ªå®šä¹‰æ¥å£å®ç°)</h3><p>XML Schema basedï¼ˆåŸºäºXMLæ¨¡å¼ï¼‰</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns=&quot;http:www.springframework.org/schema/beans&quot;</span><br><span class="line">       xmlns:xsi=&quot;http:www.w3.org/2001/XMLSchema-instance&quot;</span><br><span class="line">       xmlns:aop=&quot;http:www.springframework.org/schema/aop&quot;</span><br><span class="line">       xmlns:tx=&quot;http:www.springframework.org/schema/tx&quot;</span><br><span class="line">       xsi:schemaLocation=&quot;http:www.springframework.org/schema/beans</span><br><span class="line">        http:www.springframework.org/schema/beans/spring-beans-4.2.xsd</span><br><span class="line">        http:www.springframework.org/schema/aop</span><br><span class="line">        http:www.springframework.org/schema/aop/spring-aop-4.2.xsd&quot;&gt;</span><br><span class="line">    &lt;!-- ä¸šåŠ¡é€»è¾‘ç±»--AOPè¿æ¥ç‚¹ --&gt;</span><br><span class="line">    &lt;bean id=&quot;aopTest&quot; class=&quot;com.zhongyp.zen.service.aop.AOPTestService&quot; /&gt;</span><br><span class="line">    &lt;!--AOPåˆ‡é¢--&gt;</span><br><span class="line">    &lt;bean id=&quot;timeHandler&quot; class=&quot;com.zhongyp.zen.service.handler.TimeHandler&quot; /&gt;</span><br><span class="line">    &lt;!--AOPåˆ‡é¢--&gt;</span><br><span class="line">    &lt;bean id=&quot;printHandler&quot; class=&quot;com.zhongyp.zen.service.handler.PrintHandler&quot;&gt;&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;aop:aspectj-autoproxy /&gt;</span><br><span class="line">    &lt;aop:config&gt;</span><br><span class="line">        &lt;!-- pointcutåˆ‡å…¥ç‚¹ï¼ˆAOPè¿æ¥ç‚¹çš„é›†åˆï¼‰--&gt;</span><br><span class="line">        &lt;aop:pointcut id=&quot;pointcut&quot; expression=&quot;execution(* com.zhongyp.zen.service.*.*.*(..))&quot; /&gt;</span><br><span class="line">        &lt;!-- åˆ‡é¢ --&gt;</span><br><span class="line">        &lt;aop:aspect id=&quot;time&quot; ref=&quot;timeHandler&quot;&gt;</span><br><span class="line">            &lt;!-- AOP Advice --&gt;</span><br><span class="line">            &lt;aop:before method=&quot;printStartTime&quot; pointcut-ref=&quot;pointcut&quot; /&gt;</span><br><span class="line">            &lt;aop:after method=&quot;printEndTime&quot; pointcut-ref=&quot;pointcut&quot; /&gt;</span><br><span class="line">        &lt;/aop:aspect&gt;</span><br><span class="line">        &lt;aop:aspect id=&quot;print&quot; ref=&quot;printHandler&quot;&gt;</span><br><span class="line">            &lt;aop:after-returning method=&quot;printString&quot; pointcut-ref=&quot;pointcut&quot;&gt;&lt;/aop:after-returning&gt;</span><br><span class="line">        &lt;/aop:aspect&gt;</span><br><span class="line">    &lt;/aop:config&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>@AspectJ basedï¼ˆåŸºäºåˆ‡é¢æ³¨è§£ï¼‰</p><p>æ³¨è§£æ–¹å¼å¯ä»¥å°†ä¸Šè¿°xmlé…ç½®ä»¥æ³¨è§£çš„å½¢å¼é…ç½®ä¸€ä¸‹ï¼Œæˆ‘è¿™é‡Œåªæ˜¯ç»™å‡ºä¸€ä¸ªæ ·ä¾‹ï¼Œå…¶ä»–çš„è¿˜éœ€è¯»è€…è‡ªå·±å®è·µã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Aspect</span><br><span class="line">@Component(&quot;logHandler&quot;)</span><br><span class="line">public class LogHandler &#123;</span><br><span class="line">    @Pointcut(&quot;execution(* com.zhongyp.zen.service.*.*.*(..))&quot;)</span><br><span class="line">    private void hehe()&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    @Before(&quot;hehe()&quot;)</span><br><span class="line">    public void doBefore()&#123;</span><br><span class="line">        System.out.println(&quot;ä¸ºæ¯›å›½åº†è¦åŠ ç­ï¼ï¼ï¼ï¼&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Spring-AOP&quot;&gt;&lt;a href=&quot;#Spring-AOP&quot; class=&quot;headerlink&quot; title=&quot;Spring AOP&quot;&gt;&lt;/a&gt;Spring AOP&lt;/h2&gt;&lt;p&gt;æœ¬ç¯‡æ–‡ç« ç¿»è¯‘è‡ª&lt;a href=&quot;https://www.tutorialsp
      
    
    </summary>
    
    
      <category term="Spring" scheme="http://zhongyp.me/tags/Spring/"/>
    
  </entry>
  
  <entry>
    <title>çº¿ç¨‹ç®€ä»‹</title>
    <link href="http://zhongyp.me/2018/03/16/concurrency/2017-03-16-thread-brief/"/>
    <id>http://zhongyp.me/2018/03/16/concurrency/2017-03-16-thread-brief/</id>
    <published>2018-03-15T16:00:00.000Z</published>
    <updated>2018-12-04T11:05:36.841Z</updated>
    
    <content type="html"><![CDATA[<h2 id="çº¿ç¨‹ç®€ä»‹"><a href="#çº¿ç¨‹ç®€ä»‹" class="headerlink" title="çº¿ç¨‹ç®€ä»‹"></a>çº¿ç¨‹ç®€ä»‹</h2><h3 id="1-ä»€ä¹ˆæ˜¯çº¿ç¨‹"><a href="#1-ä»€ä¹ˆæ˜¯çº¿ç¨‹" class="headerlink" title="1. ä»€ä¹ˆæ˜¯çº¿ç¨‹"></a>1. ä»€ä¹ˆæ˜¯çº¿ç¨‹</h3><p>ç°ä»£æ“ä½œç³»ç»Ÿåœ¨è¿è¡Œç¨‹åºæ—¶ï¼Œä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªè¿›ç¨‹ã€‚æ¯”å¦‚ä½ ç°åœ¨ç”¨çš„æµè§ˆå™¨ï¼Œç³»ç»Ÿå°±ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªç”šè‡³å¤šä¸ªè¿›ç¨‹ã€‚<strong><em>å¼•å…¥è¿›ç¨‹çš„ç›®çš„æ˜¯ä¸ºäº†æ›´å¥½çš„ä½¿æ“ä½œç³»ç»Ÿå¹¶å‘æ‰§è¡Œç¨‹åºã€‚æ¥æé«˜èµ„æºåˆ©ç”¨ç‡å’Œç³»ç»Ÿååé‡ï¼Œå¢åŠ å¹¶å‘ç¨‹åº¦ã€‚</em></strong><br>çº¿ç¨‹æ˜¯ç°ä»£æ“ä½œç³»ç»Ÿè°ƒåº¦çš„åŸºæœ¬å•å…ƒï¼Œæ˜¯è¿è¡Œåœ¨è¿›ç¨‹ä¸Šä¸‹æ–‡ä¸­çš„é€»è¾‘æµï¼Œæ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒï¼Œä¹Ÿå«è½»é‡çº§è¿›ç¨‹ï¼ˆLight Weight Processï¼‰ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºCPUçš„æ‰§è¡Œå•å…ƒã€‚ä¸€ä¸ªç¨‹åºä½œä¸ºä¸€ä¸ªè¿›ç¨‹æ¥è¿è¡Œï¼Œç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­èƒ½å¤Ÿåˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œè€Œä¸€ä¸ªçº¿ç¨‹åœ¨ä¸€ä¸ªæ—¶åˆ»åªèƒ½è¿è¡Œä¸€ä¸ªå¤„ç†å™¨æ ¸å¿ƒä¸Šã€‚<strong><em>å¼•å…¥çº¿ç¨‹ï¼Œåˆ™æ˜¯ä¸ºäº†å‡å°ç¨‹åºåœ¨å¹¶å‘æ‰§è¡Œæ—¶æ‰€ä»˜å‡ºçš„æ—¶ç©ºå¼€é”€ï¼Œæé«˜æ“ä½œç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ã€‚çº¿ç¨‹ä¸æ‹¥æœ‰ç³»ç»Ÿèµ„æºï¼ˆä»£ç ï¼Œæ•°æ®ã€å †ã€å…±äº«åº“ã€æ–‡ä»¶ï¼‰ï¼Œåªæ‹¥æœ‰è¿è¡Œä¸­å¿…ä¸å¯å°‘çš„èµ„æºï¼ˆçº¿ç¨‹ID, æ ˆï¼Œæ ˆæŒ‡é’ˆï¼Œç¨‹åºè®¡æ•°å™¨ã€é€šç”¨ç›®çš„å¯„å­˜å™¨å’Œæ¡ä»¶ç ï¼‰ã€‚</em></strong><br>çº¿ç¨‹æ˜¯è°ƒåº¦çš„æŠ½è±¡ã€‚<strong><em>Javaä¸­å°†çº¿ç¨‹çš„æ‰§è¡Œå’Œæ‰§è¡Œå¯¹è±¡æŠ½è±¡å¼€æ¥ï¼ŒJDKåŒ…ä¸­æ‰§è¡Œçš„æœ‰Threadç±»ï¼ŒExecutoræ¡†æ¶ï¼Œå¯æ‰§è¡Œç›®æ ‡æœ‰Runaableï¼ŒCallableã€‚</em></strong></p><h4 id="1-1-çº¿ç¨‹çš„ä¼˜ç‚¹"><a href="#1-1-çº¿ç¨‹çš„ä¼˜ç‚¹" class="headerlink" title="1.1 çº¿ç¨‹çš„ä¼˜ç‚¹"></a>1.1 çº¿ç¨‹çš„ä¼˜ç‚¹</h4><ol><li>å¤šå¤„ç†å™¨ä½¿ç”¨ï¼š æé«˜èµ„æºåˆ©ç”¨ç‡å’Œç³»ç»Ÿååé‡ã€‚</li></ol><h4 id="1-2-çº¿ç¨‹çš„é£é™©"><a href="#1-2-çº¿ç¨‹çš„é£é™©" class="headerlink" title="1.2 çº¿ç¨‹çš„é£é™©"></a>1.2 çº¿ç¨‹çš„é£é™©</h4><ol><li>å®‰å…¨é£é™©ï¼šå¯¹äºå…±äº«å˜é‡çš„è®¿é—®ã€æ“ä½œå®¹æ˜“é€ æˆå®‰å…¨é£é™©ã€‚</li><li>æ´»è·ƒåº¦é£é™©ï¼šæ­»é”å¼•å‘æ´»åŠ¨åº¦å¤±è´¥ã€‚</li><li>æ€§èƒ½é£é™©ï¼šçº¿ç¨‹ä¹‹é—´é¢‘ç¹è°ƒåº¦å¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢å¯¼è‡´å·¨å¤§çš„ç³»ç»Ÿå¼€é”€ã€‚</li></ol><h3 id="2-çº¿ç¨‹çš„çŠ¶æ€"><a href="#2-çº¿ç¨‹çš„çŠ¶æ€" class="headerlink" title="2. çº¿ç¨‹çš„çŠ¶æ€"></a>2. çº¿ç¨‹çš„çŠ¶æ€</h3><p><img src="/media/ThreadStatus.png" alt="ThreadStatus"><br><a href="#çº¿ç¨‹ç®€ä»‹">å›¾ç‰‡æ¥è‡ªï¼šJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯-</a></p><ul><li>æ–°å»º(NEW)ï¼šç”¨newå…³é”®å­—å’ŒThreadç±»æˆ–å…¶å­ç±»å»ºç«‹ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡åï¼Œè¯¥çº¿ç¨‹å¯¹è±¡å°±å¤„äºæ–°ç”ŸçŠ¶æ€ã€‚å¤„äºæ–°ç”ŸçŠ¶æ€çš„çº¿ç¨‹æœ‰è‡ªå·±çš„å†…å­˜ç©ºé—´ï¼Œé€šè¿‡è°ƒç”¨startæ–¹æ³•è¿›å…¥å°±ç»ªçŠ¶æ€ï¼ˆREADYï¼‰ã€‚</li></ul><p><strong><em>æ³¨æ„ï¼šä¸èƒ½å¯¹å·²ç»å¯åŠ¨çš„çº¿ç¨‹å†æ¬¡è°ƒç”¨start()æ–¹æ³•ï¼Œå¦åˆ™ä¼šå‡ºç°Java.lang.IllegalThreadStateExceptionå¼‚å¸¸ã€‚</em></strong></p><ul><li><p>è¿è¡ŒçŠ¶æ€(RUNNABLE)ï¼šJavaçº¿ç¨‹å°†æ“ä½œç³»ç»Ÿä¸­çš„å°±ç»ªå’Œè¿è¡Œä¸¤ç§çŠ¶æ€ç¬¼ç»Ÿçš„ç§°ä½œâ€œè¿è¡Œä¸­â€ã€‚</p></li><li><p>å°±ç»ª(READY)ï¼šå¤„äºå°±ç»ªçŠ¶æ€çš„çº¿ç¨‹å·²ç»å…·å¤‡äº†è¿è¡Œæ¡ä»¶ï¼Œä½†è¿˜æ²¡æœ‰åˆ†é…åˆ°CPUï¼Œå¤„äºçº¿ç¨‹å°±ç»ªé˜Ÿåˆ—ï¼ˆå°½ç®¡æ˜¯é‡‡ç”¨é˜Ÿåˆ—å½¢å¼ï¼Œäº‹å®ä¸Šï¼ŒæŠŠå®ƒç§°ä¸ºå¯è¿è¡Œæ± è€Œä¸æ˜¯å¯è¿è¡Œé˜Ÿåˆ—ã€‚å› ä¸ºcpuçš„è°ƒåº¦ä¸ä¸€å®šæ˜¯æŒ‰ç…§å…ˆè¿›å…ˆå‡ºçš„é¡ºåºæ¥è°ƒåº¦çš„ï¼‰ï¼Œç­‰å¾…ç³»ç»Ÿä¸ºå…¶åˆ†é…CPUã€‚ç­‰å¾…çŠ¶æ€å¹¶ä¸æ˜¯æ‰§è¡ŒçŠ¶æ€ï¼Œå½“ç³»ç»Ÿé€‰å®šä¸€ä¸ªç­‰å¾…æ‰§è¡Œçš„Threadå¯¹è±¡åï¼Œå®ƒå°±ä¼šä»ç­‰å¾…æ‰§è¡ŒçŠ¶æ€è¿›å…¥æ‰§è¡ŒçŠ¶æ€ï¼Œç³»ç»ŸæŒ‘é€‰çš„åŠ¨ä½œç§°ä¹‹ä¸ºâ€œcpuè°ƒåº¦â€ã€‚ä¸€æ—¦è·å¾—CPUï¼Œçº¿ç¨‹å°±è¿›å…¥è¿è¡ŒçŠ¶æ€å¹¶è‡ªåŠ¨è°ƒç”¨è‡ªå·±çš„runæ–¹æ³•ã€‚ä¹Ÿå¯ä»¥å¯¹åœ¨è¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹è°ƒç”¨yield()æ–¹æ³•ï¼Œå®ƒå°±ä¼šè®©å‡ºcpuèµ„æºï¼Œå†æ¬¡å˜ä¸ºå°±ç»ªçŠ¶æ€ã€‚</p></li><li><p>è¿è¡Œ(RUNNING)ï¼šå¤„äºè¿è¡ŒçŠ¶æ€çš„çº¿ç¨‹æœ€ä¸ºå¤æ‚ï¼Œå®ƒå¯ä»¥å˜ä¸ºé˜»å¡çŠ¶æ€ã€å°±ç»ªçŠ¶æ€å’Œæ­»äº¡çŠ¶æ€ã€‚</p></li><li><p>ç­‰å¾…çŠ¶æ€(WAITING)ï¼šè¡¨ç¤ºçº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥è¯¥çŠ¶æ€è¡¨ç¤ºå½“å‰çº¿ç¨‹éœ€è¦ç­‰å¾…å…¶ä»–çº¿ç¨‹ä½œå‡ºä¸€äº›ç‰¹å®šåŠ¨ä½œï¼ˆé€šçŸ¥æˆ–ä¸­æ–­ï¼‰ã€‚</p></li><li><p>è¶…æ—¶ç­‰å¾…çŠ¶æ€(TIME_WAITING)ï¼šè¯¥çŠ¶æ€ä¸åŒäºWAITINGï¼Œå®ƒæ˜¯å¯ä»¥åœ¨æŒ‡å®šçš„æ—¶é—´è‡ªè¡Œè¿”å›çš„ã€‚</p></li><li><p>é˜»å¡(BLOCKED)ï¼š<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html" target="_blank" rel="noopener">javase7 docs</a>å…³äºBLOCKEDçš„æè¿°ï¼šThread state for a thread blocked waiting for a monitor lock. A thread in the blocked state is waiting for a monitor lock to enter a synchronized block/method or reenter a synchronized block/method after calling Object.wait.ç¿»è¯‘ï¼šé˜»å¡çº¿ç¨‹æ˜¯ç­‰å¾…è·å–åŒæ­¥ç›‘è§†å™¨é”çš„çº¿ç¨‹ã€‚çº¿ç¨‹ç­‰å¾…è·å–åŒæ­¥ç›‘è§†å™¨é”è¿›å…¥åŒæ­¥ä»£ç å—/æ–¹æ³•,æˆ–è€…è°ƒç”¨Object.waitæ–¹æ³•å,è¢«å”¤é†’åç­‰å¾…è·å–åŒæ­¥ç›‘è§†å™¨é”,<strong><em>é‡å…¥</em></strong>åŒæ­¥ä»£ç å—/æ–¹æ³•ã€‚</p></li><li><p>æ­»äº¡(DEAD)ï¼šå½“çº¿ç¨‹çš„run()æ–¹æ³•æ‰§è¡Œå®Œï¼Œæˆ–è€…è¢«å¼ºåˆ¶æ€§åœ°ç»ˆæ­¢ï¼Œå°±è®¤ä¸ºå®ƒæ­»å»ã€‚è¿™ä¸ªçº¿ç¨‹å¯¹è±¡ä¹Ÿè®¸æ˜¯æ´»çš„ï¼Œä½†æ˜¯ï¼Œå®ƒå·²ç»ä¸æ˜¯ä¸€ä¸ªå•ç‹¬æ‰§è¡Œçš„çº¿ç¨‹ã€‚çº¿ç¨‹ä¸€æ—¦æ­»äº¡ï¼Œå°±ä¸èƒ½å¤ç”Ÿã€‚ å¦‚æœåœ¨ä¸€ä¸ªæ­»å»çš„çº¿ç¨‹ä¸Šè°ƒç”¨start()æ–¹æ³•ï¼Œä¼šæŠ›å‡ºjava.lang.IllegalThreadStateExceptionå¼‚å¸¸ã€‚</p></li></ul><h3 id="3-çº¿ç¨‹ä¼˜å…ˆçº§"><a href="#3-çº¿ç¨‹ä¼˜å…ˆçº§" class="headerlink" title="3. çº¿ç¨‹ä¼˜å…ˆçº§"></a>3. çº¿ç¨‹ä¼˜å…ˆçº§</h3><p>æ¯ä¸ªçº¿ç¨‹æ‰§è¡Œæ—¶éƒ½æœ‰ä¸€ä¸ªä¼˜å…ˆçº§çš„å±æ€§ï¼Œä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹å¯ä»¥è·å¾—è¾ƒå¤šçš„æ‰§è¡Œæœºä¼šï¼Œè€Œä¼˜å…ˆçº§ä½çš„çº¿ç¨‹åˆ™è·å¾—è¾ƒå°‘çš„æ‰§è¡Œæœºä¼šã€‚ä¸çº¿ç¨‹ä¼‘çœ ç±»ä¼¼ï¼Œçº¿ç¨‹çš„ä¼˜å…ˆçº§ä»ç„¶æ— æ³•ä¿éšœçº¿ç¨‹çš„æ‰§è¡Œæ¬¡åºã€‚åªä¸è¿‡ï¼Œä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹è·å–CPUèµ„æºçš„æ¦‚ç‡è¾ƒå¤§ï¼Œä¼˜å…ˆçº§ä½çš„ä¹Ÿå¹¶éæ²¡æœºä¼šæ‰§è¡Œã€‚</p><p>æ¯ä¸ªçº¿ç¨‹é»˜è®¤çš„ä¼˜å…ˆçº§éƒ½ä¸åˆ›å»ºå®ƒçš„çˆ¶çº¿ç¨‹å…·æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œmainçº¿ç¨‹å…·æœ‰æ™®é€šä¼˜å…ˆçº§ã€‚</p><p><strong><em>æ³¨ï¼šè™½ç„¶Javaæä¾›äº†10ä¸ªä¼˜å…ˆçº§åˆ«ï¼Œä½†è¿™äº›ä¼˜å…ˆçº§åˆ«éœ€è¦æ“ä½œç³»ç»Ÿçš„æ”¯æŒã€‚ä¸åŒçš„æ“ä½œç³»ç»Ÿçš„ä¼˜å…ˆçº§å¹¶ä¸ç›¸åŒï¼Œè€Œä¸”ä¹Ÿä¸èƒ½å¾ˆå¥½çš„å’ŒJavaçš„10ä¸ªä¼˜å…ˆçº§åˆ«å¯¹åº”ã€‚æ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä½¿ç”¨MAX_PRIORITYã€MIN_PRIORITYå’ŒNORM_PRIORITYä¸‰ä¸ªé™æ€å¸¸é‡æ¥è®¾å®šä¼˜å…ˆçº§ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ç¨‹åºæœ€å¥½çš„å¯ç§»æ¤æ€§ã€‚</em></strong></p><h3 id="4-Daemonçº¿ç¨‹"><a href="#4-Daemonçº¿ç¨‹" class="headerlink" title="4. Daemonçº¿ç¨‹"></a>4. Daemonçº¿ç¨‹</h3><p>Daemonçº¿ç¨‹æ˜¯ä¸€ç§æ”¯æŒå‹çº¿ç¨‹ï¼Œå› ä¸ºå®ƒä¸»è¦è¢«ç”¨åšç¨‹åºä¸­åå°è°ƒåº¦åŠæ”¯æŒæ€§å·¥ä½œã€‚<br><strong><em> æ³¨æ„ï¼šæ„å»ºDaemonçº¿ç¨‹æ—¶ï¼Œä¸èƒ½ä¾é finallyå—ä¸­çš„å†…å®¹æ¥ç¡®ä¿æ‰§è¡Œå…³é—­æˆ–æ¸…ç†èµ„æºçš„é€»è¾‘ã€‚</em></strong></p><p>å®ˆæŠ¤çº¿ç¨‹ä½¿ç”¨çš„æƒ…å†µè¾ƒå°‘ï¼Œä½†å¹¶éæ— ç”¨ï¼Œä¸¾ä¾‹æ¥è¯´ï¼ŒJVMçš„åƒåœ¾å›æ”¶ã€å†…å­˜ç®¡ç†ç­‰çº¿ç¨‹éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹ã€‚è¿˜æœ‰å°±æ˜¯åœ¨åšæ•°æ®åº“åº”ç”¨æ—¶å€™ï¼Œä½¿ç”¨çš„æ•°æ®åº“è¿æ¥æ± ï¼Œè¿æ¥æ± æœ¬èº«ä¹ŸåŒ…å«ç€å¾ˆå¤šåå°çº¿ç¨‹ï¼Œç›‘æ§è¿æ¥ä¸ªæ•°ã€è¶…æ—¶æ—¶é—´ã€çŠ¶æ€ç­‰ç­‰ã€‚è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„æ–¹æ³•setDaemon(true)ï¼Œåˆ™å¯ä»¥å°†å…¶è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚å®ˆæŠ¤çº¿ç¨‹çš„ç”¨é€”ä¸ºï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â€¢ å®ˆæŠ¤çº¿ç¨‹é€šå¸¸ç”¨äºæ‰§è¡Œä¸€äº›åå°ä½œä¸šï¼Œä¾‹å¦‚åœ¨ä½ çš„åº”ç”¨ç¨‹åºè¿è¡Œæ—¶æ’­æ”¾èƒŒæ™¯éŸ³ä¹ï¼Œåœ¨æ–‡å­—ç¼–è¾‘å™¨é‡Œåšè‡ªåŠ¨è¯­æ³•æ£€æŸ¥ã€è‡ªåŠ¨ä¿å­˜ç­‰åŠŸèƒ½ã€‚</span><br><span class="line">â€¢ Javaçš„åƒåœ¾å›æ”¶ä¹Ÿæ˜¯ä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ã€‚å®ˆæŠ¤çº¿çš„å¥½å¤„å°±æ˜¯ä½ ä¸éœ€è¦å…³å¿ƒå®ƒçš„ç»“æŸé—®é¢˜ã€‚ä¾‹å¦‚ä½ åœ¨ä½ çš„åº”ç”¨ç¨‹åºè¿è¡Œçš„æ—¶å€™å¸Œæœ›æ’­æ”¾èƒŒæ™¯éŸ³ä¹ï¼Œå¦‚æœå°†è¿™ä¸ªæ’­æ”¾èƒŒæ™¯éŸ³ä¹çš„çº¿ç¨‹è®¾å®šä¸ºéå®ˆæŠ¤çº¿ç¨‹ï¼Œé‚£ä¹ˆåœ¨ç”¨æˆ·è¯·æ±‚é€€å‡ºçš„æ—¶å€™ï¼Œä¸ä»…è¦é€€å‡ºä¸»çº¿ç¨‹ï¼Œè¿˜è¦é€šçŸ¥æ’­æ”¾èƒŒæ™¯éŸ³ä¹çš„çº¿ç¨‹é€€å‡ºï¼›å¦‚æœè®¾å®šä¸ºå®ˆæŠ¤çº¿ç¨‹åˆ™ä¸éœ€è¦äº†ã€‚</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> /**</span><br><span class="line">    * å°†è¯¥çº¿ç¨‹æ ‡è®°ä¸ºå®ˆæŠ¤çº¿ç¨‹æˆ–ç”¨æˆ·çº¿ç¨‹ã€‚å½“æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹æ—¶ï¼ŒJava è™šæ‹Ÿæœºé€€å‡ºã€‚</span><br><span class="line">    * è¯¥æ–¹æ³•å¿…é¡»åœ¨å¯åŠ¨çº¿ç¨‹å‰è°ƒç”¨ã€‚</span><br><span class="line">    * è¯¥æ–¹æ³•é¦–å…ˆè°ƒç”¨è¯¥çº¿ç¨‹çš„ checkAccess æ–¹æ³•ï¼Œä¸”ä¸å¸¦ä»»ä½•å‚æ•°ã€‚</span><br><span class="line">    * è¿™å¯èƒ½æŠ›å‡º SecurityExceptionï¼ˆåœ¨å½“å‰çº¿ç¨‹ä¸­ï¼‰ã€‚   </span><br><span class="line">    *   å‚æ•°ï¼š</span><br><span class="line">    *      on - å¦‚æœä¸º trueï¼Œåˆ™å°†è¯¥çº¿ç¨‹æ ‡è®°ä¸ºå®ˆæŠ¤çº¿ç¨‹ã€‚    </span><br><span class="line">    *   æŠ›å‡ºï¼š    </span><br><span class="line">    *     IllegalThreadStateException - å¦‚æœè¯¥çº¿ç¨‹å¤„äºæ´»åŠ¨çŠ¶æ€ã€‚    </span><br><span class="line">    *     SecurityException - å¦‚æœå½“å‰çº¿ç¨‹æ— æ³•ä¿®æ”¹è¯¥çº¿ç¨‹ã€‚</span><br><span class="line">    */</span><br><span class="line">    </span><br><span class="line">public final void setDaemon(boolean on)</span><br></pre></td></tr></table></figure><h3 id="5-å¼•ç”¨"><a href="#5-å¼•ç”¨" class="headerlink" title="5. å¼•ç”¨"></a>5. å¼•ç”¨</h3><p><a href="https://www.cnblogs.com/snow-flower/p/6114765.html" target="_blank" rel="noopener">Javaå¤šçº¿ç¨‹è¯¦è§£</a><br><a href="https://book.douban.com/subject/26591326/" target="_blank" rel="noopener">Javaå¹¶å‘ç¼–ç¨‹è‰ºæœ¯</a><br><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.State.html" target="_blank" rel="noopener">javase7 docs</a><br><a href="https://my.oschina.net/u/2500836/blog/1538667" target="_blank" rel="noopener">Javaçº¿ç¨‹ï¼ˆ1ï¼‰-è¯»Threadç±»æºç </a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;çº¿ç¨‹ç®€ä»‹&quot;&gt;&lt;a href=&quot;#çº¿ç¨‹ç®€ä»‹&quot; class=&quot;headerlink&quot; title=&quot;çº¿ç¨‹ç®€ä»‹&quot;&gt;&lt;/a&gt;çº¿ç¨‹ç®€ä»‹&lt;/h2&gt;&lt;h3 id=&quot;1-ä»€ä¹ˆæ˜¯çº¿ç¨‹&quot;&gt;&lt;a href=&quot;#1-ä»€ä¹ˆæ˜¯çº¿ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;1. 
      
    
    </summary>
    
    
      <category term="å¹¶å‘" scheme="http://zhongyp.me/tags/%E5%B9%B6%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>Javaå†…å­˜æ¨¡å‹</title>
    <link href="http://zhongyp.me/2018/01/04/concurrency/2018-03-04-JavaMemModel/"/>
    <id>http://zhongyp.me/2018/01/04/concurrency/2018-03-04-JavaMemModel/</id>
    <published>2018-01-03T16:00:00.000Z</published>
    <updated>2018-12-10T10:13:35.930Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Javaå†…å­˜æ¨¡å‹"><a href="#Javaå†…å­˜æ¨¡å‹" class="headerlink" title="Javaå†…å­˜æ¨¡å‹"></a>Javaå†…å­˜æ¨¡å‹</h1><p>Javaå†…å­˜æ¨¡å‹ï¼ˆJava Memory Modelï¼Œç®€ç§°ï¼šJMMï¼‰ï¼Œä¸‹æ–‡ä¸­å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜ï¼ŒJMMå³ä»£è¡¨â€œJavaå†…å­˜æ¨¡å‹â€ã€‚</p><h2 id="1-èƒŒæ™¯"><a href="#1-èƒŒæ™¯" class="headerlink" title="1. èƒŒæ™¯"></a>1. èƒŒæ™¯</h2><h3 id="1-1-ç¼“å­˜ä¸€è‡´æ€§"><a href="#1-1-ç¼“å­˜ä¸€è‡´æ€§" class="headerlink" title="1.1 ç¼“å­˜ä¸€è‡´æ€§"></a>1.1 ç¼“å­˜ä¸€è‡´æ€§</h3><p>åœ¨å¹¶å‘ç¼–ç¨‹æ¨¡å‹ä¸­ï¼Œéœ€è¦å¤„ç†ä¸¤ä¸ªå…³é”®çš„é—®é¢˜ï¼š<strong>çº¿ç¨‹ä¹‹é—´ä»¥ä½•ç§æœºåˆ¶äº¤æ¢ä¿¡æ¯ï¼ˆé€šä¿¡ï¼‰åŠå¦‚ä½•æ§åˆ¶ä¸åŒçº¿ç¨‹ä¹‹é—´æ“ä½œå‘ç”Ÿç›¸å¯¹é¡ºåºçš„æœºåˆ¶ï¼ˆåŒæ­¥ï¼‰</strong>ã€‚<br>çº¿ç¨‹ä¹‹é—´çš„é€šä¿¡æœºåˆ¶æœ‰ä¸¤ç§ï¼šå…±äº«å†…å­˜å’Œæ¶ˆæ¯ä¼ é€’ï¼Œæ¯ç§é€šä¿¡æœºåˆ¶å¯¹åº”ä¸åŒçš„å†…å­˜æ¨¡å‹ã€‚<br>å…±äº«å†…å­˜æ¨¡å‹ï¼šçº¿ç¨‹ä¹‹é—´é€šè¿‡è¯»-å†™å†…å­˜ä¸­çš„å…¬å…±çŠ¶æ€è¿›è¡Œéšå¼é€šä¿¡ã€‚<br>æ¶ˆæ¯ä¼ é€’æ¨¡å‹ï¼šçº¿ç¨‹ä¹‹é—´æ²¡æœ‰å…¬å…±çŠ¶æ€ï¼Œçº¿ç¨‹ä¹‹é—´å¿…é¡»é€šè¿‡å‘é€æ¶ˆæ¯æ¥æ˜¾ç¤ºçš„è¿›è¡Œé€šä¿¡ã€‚<br><strong><em>Javaå¹¶å‘é‡‡ç”¨çš„æ˜¯å…±äº«å†…å­˜æ¨¡å‹</em></strong>ã€‚<br>åœ¨å…±äº«çš„å†…å­˜æ¨¡å‹ï¼Œå¤šå¤„ç†å™¨ä½“ç³»æ¶æ„ä¸­ï¼Œæ¯ä¸ª<a href="https://www.oschina.net/translate/what-every-programmer-should-know-about-cpu-cache-part2" target="_blank" rel="noopener">å¤„ç†å™¨</a>éƒ½æœ‰è‡ªå·±çš„ç¼“å­˜ï¼Œå¹¶ä¸”å‘¨æœŸæ€§çš„ä¸ä¸»å†…å­˜åè°ƒä¸€è‡´ã€‚å¤„ç†å™¨æ¶æ„æä¾›äº†ä¸åŒçº§åˆ«çš„ç¼“å­˜ä¸€è‡´æ€§ï¼ˆcache coherenceï¼‰ï¼Œæœ‰äº›ä»…æä¾›æœ€å°çš„ä¿è¯ï¼Œå‡ ä¹åœ¨ä»»ä½•æ—¶é—´å†…ï¼Œéƒ½å…è®¸ä¸åŒçš„å¤„ç†å™¨åœ¨ç›¸åŒä½ç½®ä¸Šçœ‹åˆ°ä¸åŒçš„å€¼ã€‚<br>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼šåœ¨javaä¸­ï¼Œæ‰§è¡Œä¸‹é¢è¿™ä¸ªè¯­å¥ï¼š</p><p><code>i  = 10++;</code></p><p>1) æ‰§è¡Œçº¿ç¨‹å¿…é¡»å…ˆåœ¨è‡ªå·±çš„å·¥ä½œçº¿ç¨‹ä¸­å¯¹å˜é‡iæ‰€åœ¨çš„ç¼“å­˜è¡Œè¿›è¡Œèµ‹å€¼æ“ä½œï¼Œç„¶åå†å†™å…¥ä¸»å­˜å½“ä¸­ã€‚è€Œä¸æ˜¯ç›´æ¥å°†æ•°å€¼10å†™å…¥ä¸»å­˜å½“ä¸­ã€‚</p><p>2) æ¯”å¦‚åŒæ—¶æœ‰2ä¸ªçº¿ç¨‹æ‰§è¡Œè¿™æ®µä»£ç ï¼Œå‡å¦‚åˆå§‹æ—¶içš„å€¼ä¸º10ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¸Œæœ›ä¸¤ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œä¹‹åiçš„å€¼å˜ä¸º12ã€‚ä½†æ˜¯äº‹å®ä¼šæ˜¯è¿™æ ·å—ï¼Ÿ</p><p>3) å¯èƒ½å­˜åœ¨ä¸‹é¢ä¸€ç§æƒ…å†µï¼šåˆå§‹æ—¶ï¼Œä¸¤ä¸ªçº¿ç¨‹åˆ†åˆ«è¯»å–içš„å€¼å­˜å…¥å„è‡ªæ‰€åœ¨çš„å·¥ä½œå†…å­˜å½“ä¸­ï¼Œç„¶åçº¿ç¨‹1è¿›è¡ŒåŠ 1æ“ä½œï¼Œç„¶åæŠŠiçš„æœ€æ–°å€¼11å†™å…¥åˆ°å†…å­˜ã€‚æ­¤æ—¶çº¿ç¨‹2çš„å·¥ä½œå†…å­˜å½“ä¸­içš„å€¼è¿˜æ˜¯10ï¼Œè¿›è¡ŒåŠ 1æ“ä½œä¹‹åï¼Œiçš„å€¼ä¸º11ï¼Œç„¶åçº¿ç¨‹2æŠŠiçš„å€¼å†™å…¥å†…å­˜ã€‚</p><p>4) æœ€ç»ˆç»“æœiçš„å€¼æ˜¯11ï¼Œè€Œä¸æ˜¯12ã€‚è¿™å°±æ˜¯ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ã€‚é€šå¸¸ç§°è¿™ç§è¢«å¤šä¸ªçº¿ç¨‹è®¿é—®çš„å˜é‡ä¸ºå…±äº«å˜é‡ã€‚</p><p><strong>æ³¨ï¼š</strong><br>åŒæ­¥ï¼š<strong>æŒ‡ç¨‹åºä¸­ç”¨äºæ§åˆ¶ä¸åŒçº¿ç¨‹é—´æ“ä½œå‘ç”Ÿç›¸å¯¹é¡ºåºçš„æœºåˆ¶</strong>ï¼Œæ„å‘³ç€æŸç§å½¢å¼çš„åŸå­æ€§æˆ–è€…äº’æ–¥ã€‚<br>å…±äº«å†…å­˜çš„å¹¶å‘æ¨¡å‹ä¸­ï¼ŒåŒæ­¥æ˜¯æ˜¾å¼ï¼Œç¨‹åºå‘˜å¿…é¡»æ˜¾ç¤ºçš„æŒ‡å®šæŸä¸ªæ–¹æ³•æˆ–æŸæ®µä»£ç éœ€è¦åœ¨çº¿ç¨‹ä¹‹é—´äº’æ–¥æ‰§è¡Œã€‚æ¶ˆæ¯ä¼ é€’çš„å¹¶å‘æ¨¡å‹ä¸­ï¼Œæ¶ˆæ¯çš„å‘é€å¿…é¡»åœ¨æ¶ˆæ¯çš„æ¥æ”¶ä¹‹å‰ï¼Œå› æ­¤åŒæ­¥æ˜¯éšå¼çš„ã€‚</p><p>æƒ³è¦ä¿è¯æ¯ä¸ªå¤„ç†å™¨èƒ½åœ¨ä»»æ„æ—¶é—´å†…è·çŸ¥å…¶ä»–å¤„ç†å™¨æ­£åœ¨å¤„ç†çš„å·¥ä½œï¼Œä»£ä»·å¾ˆé«˜è€Œä¸”å¾ˆå¤šæ—¶å€™è¿™äº›ä¿¡æ¯éƒ½æ˜¯ä¸å¿…è¦çš„ï¼Œæ‰€ä»¥å°±ç‰ºç‰²æ‰å­˜å‚¨çš„ä¸€è‡´æ€§æ¥ä¿è¯æ€§èƒ½ã€‚ä¸ºäº†å…±äº«æ•°æ®æ—¶èƒ½å¾—åˆ°å­˜å‚¨åè°ƒçš„ä¿è¯ï¼ŒJavaæä¾›äº†è‡ªå·±çš„JMMè§£å†³ä¸åº•å±‚å¹³å°å­˜å‚¨æ¨¡å‹çš„å·®å¼‚åŒ–ã€‚</p><h3 id="1-2-é‡æ’åº"><a href="#1-2-é‡æ’åº" class="headerlink" title="1.2 é‡æ’åº"></a>1.2 é‡æ’åº</h3><p>é™¤äº†ä¸Šè¿°çš„ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜å¤–ï¼Œåœ¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œä¸ºäº†æé«˜ç¨‹åºçš„æ€§èƒ½ï¼Œä½¿å¾—å¤„ç†å™¨å†…éƒ¨çš„è¿ç®—å•å…ƒè¢«å……åˆ†åˆ©ç”¨ï¼Œç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¸¸å¸¸ä¼šå¯¹æŒ‡ä»¤åšé‡æ’åºã€‚<br>ä»Javaæºä»£ç åˆ°æœ€ç»ˆæ‰§è¡Œçš„æŒ‡ä»¤åºåˆ—ï¼Œä¼šåˆ†åˆ«ç»å†ä¸‹é¢çš„ä¸‰ç§é‡æ’åºï¼š<br><img src="/media/java-resort.png" alt="resort"><br>å›¾ç‰‡æ¥è‡ª<a href="#2-4-happens-before">Javaå¹¶å‘ç¼–ç¨‹è‰ºæœ¯</a></p><ol><li>ç¼–è¯‘å™¨é‡æ’åºã€‚ç¼–è¯‘å™¨ä¸æ”¹å˜å•çº¿ç¨‹è¯­ä¹‰çš„å‰æä¸‹ï¼Œå¯ä»¥é‡æ–°å®‰æ’è¯­å¥çš„æ‰§è¡Œé¡ºåºã€‚</li><li>æŒ‡ä»¤çº§é‡æ’åºã€‚ç°ä»£å¤„ç†å™¨é‡‡ç”¨æŒ‡ä»¤çº§å¹¶è¡ŒæŠ€æœ¯å°†å¤šæ¡æŒ‡ä»¤é‡å æ‰§è¡Œã€‚<strong><em>å¦‚æœä¸å­˜åœ¨æ•°æ®ä¾èµ–æ€§ï¼Œå¤„ç†å™¨å¯ä»¥æ”¹å˜è¯­å¥å¯¹åº”æœºå™¨æŒ‡ä»¤çš„æ‰§è¡Œé¡ºåºã€‚</em></strong></li><li>å†…å­˜ç³»ç»Ÿçš„é‡æ’åºã€‚ç”±äºå¤„ç†å™¨ä½¿ç”¨ç¼“å­˜å’Œè¯»/å†™ç¼“å†²åŒºï¼Œä½¿å¾—åŠ è½½å’Œå­˜å‚¨æ“ä½œçœ‹ä¸Šå»å¯èƒ½æ˜¯åœ¨ä¹±åºæ‰§è¡Œã€‚</li></ol><p>ç¼–è¯‘å™¨å’Œå¤„ç†å™¨é‡æ’åºæ—¶ä¼šéµå®ˆæ•°æ®ä¾èµ–æ€§ï¼Œç¼–è¯‘å™¨ã€è¿è¡Œæ—¶å’Œå¤„ç†å™¨éƒ½å¿…é¡»éµå®ˆas-if-serialè¯­ä¹‰ã€‚<br><strong>æ³¨ï¼š</strong><br>æ•°æ®ä¾èµ–æ€§ï¼šç¼–è¯‘å™¨å’Œå¤„ç†å™¨ä¸ä¼šæ”¹å˜å­˜åœ¨æ•°æ®ä»¥æ¥å…³ç³»çš„ä¸¤ä¸ªæ“ä½œçš„æ‰§è¡Œé¡ºåºã€‚<strong>æ•°æ®ä¾èµ–æ€§ä»…é’ˆå¯¹å•ä¸ªå¤„ç†å™¨ä¸­æ‰§è¡Œçš„æŒ‡ä»¤åºåˆ—å’Œå•ä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œçš„æ“ä½œï¼Œä¸åŒå¤„ç†å™¨ä¹‹é—´å’Œä¸åŒçº¿ç¨‹ä¹‹é—´çš„æ•°æ®ä¾èµ–æ€§ä¸è¢«ç¼–è¯‘å™¨å’Œå¤„ç†å™¨è€ƒè™‘ã€‚</strong><br>as-if-serialï¼šå†…éƒ¨çº¿ç¨‹ç±»ä¼¼é¡ºåºåŒ–è¯­ä¹‰ã€‚ä¸ç®¡å¦‚ä½•çš„é‡æ’åºï¼Œå•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œç»“æœä¸èƒ½è¢«æ”¹å˜ã€‚</p><h4 id="1-2-1-é‡æ’åºçš„å½±å“"><a href="#1-2-1-é‡æ’åºçš„å½±å“" class="headerlink" title="1.2.1 é‡æ’åºçš„å½±å“"></a>1.2.1 é‡æ’åºçš„å½±å“</h4><p>ç¤ºä¾‹ä»£ç ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class Test &#123;</span><br><span class="line">    int a = 0;</span><br><span class="line">    boolean flag = false;</span><br><span class="line"></span><br><span class="line">    public void writer()&#123;</span><br><span class="line">        a = 1; // 1</span><br><span class="line">        flag = true; // 2</span><br><span class="line">    &#125;</span><br><span class="line">    public void reader()&#123;</span><br><span class="line">        if (flag)&#123; // 3</span><br><span class="line">            int i = a * a; // 4</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>å‡è®¾çº¿ç¨‹Aå…ˆæ‰§è¡Œwritreræ–¹æ³•ï¼Œéšåçº¿ç¨‹Bæ‰§è¡Œreaderæ–¹æ³•ï¼Œçº¿ç¨‹æ‰§è¡Œæ“ä½œ4æ—¶ï¼Œä¸ä¸€å®šèƒ½çœ‹åˆ°1å¤„çš„èµ‹å€¼ã€‚åŸå› å¦‚ä¸‹å›¾ï¼š<br><img src="/media/resort.png" alt="resort"><br>å›¾ç‰‡æ¥è‡ª<a href="#2-4-happens-before">Javaå¹¶å‘ç¼–ç¨‹è‰ºæœ¯</a><br>ç”±äºæ“ä½œ1å’Œ2æ²¡æœ‰ä¾èµ–å…³ç³»ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨å’Œå¤„ç†å™¨å¯ä»¥å¯¹è¿™ä¸¤ä¸ªæ“ä½œé‡æ’åºï¼Œçº¿ç¨‹Aé¦–å…ˆæ ‡è®°äº†flagï¼Œéšåçº¿ç¨‹Bè¯»å–flagã€‚ç”±äºflag=trueï¼Œçº¿ç¨‹Bå¯ä»¥è¯»å–aï¼Œä½†æ˜¯æ­¤æ—¶çš„aå¹¶ä¸ºè¢«çº¿ç¨‹Aèµ‹å€¼ã€‚æ‰€ä»¥è¿™é‡Œçš„å¤šçº¿ç¨‹ç¨‹åºçš„è¯­ä¹‰è¢«ç ´åäº†ã€‚JMMæä¾›åŒæ­¥æœºåˆ¶æ¥æŠ‘åˆ¶ç¼–è¯‘å™¨ã€è¿è¡Œæ—¶å’Œç¡¬ä»¶å¯¹å­˜å‚¨æ“ä½œçš„å„ç§æ–¹å¼çš„é‡æ’åºï¼Œä¿è¯å†…å­˜çš„å¯è§æ€§ã€‚                                              </p><h2 id="2-JMMè®¾è®¡"><a href="#2-JMMè®¾è®¡" class="headerlink" title="2. JMMè®¾è®¡"></a>2. JMMè®¾è®¡</h2><p><img src="/media/jmm-abs.png" alt="JMMçš„æŠ½è±¡ç»“æ„"><br>JMMåœ¨å†…å­˜ä¸­çš„æŠ½è±¡ç»“æ„ï¼Œå›¾ç‰‡æ¥è‡ª<a href="#2-4-happens-before">Javaå¹¶å‘ç¼–ç¨‹è‰ºæœ¯</a></p><p>JMMå±äºè¯­è¨€çº§åˆ«çš„å†…å­˜æ¨¡å‹ï¼Œç¡®ä¿åœ¨ä¸åŒçš„ç¼–è¯‘å’Œä¸åŒå¤„ç†å™¨å¹³å°ä¸Šï¼Œé€šè¿‡ç¦æ­¢ç‰¹å®šç±»å‹çš„ç¼–è¯‘å™¨é‡æ’åºå’Œå¤„ç†å™¨é‡æ’åºï¼Œå†³å®šä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡çš„å†™å…¥ä½•æ—¶å¯¹å¦ä¸€ä¸ªçº¿ç¨‹å¯è§ï¼Œæä¾›å†…å­˜å¯è§æ€§ä¿è¯ã€‚<br>ä»JDK5å¼€å§‹ï¼ŒJavaä½¿ç”¨JSR-133å†…å­˜æ¨¡å‹ã€‚JSR-133ä½¿ç”¨<strong>happens-beforeæ¦‚å¿µä¿è¯å†…å­˜çš„å¯è§æ€§</strong>ã€‚å¦‚æœä¸¤ä¸ªæ“ä½œçš„æ‰§è¡Œæ¬¡åºæ— æ³•ä»happens-beforeåŸåˆ™æ¨å¯¼å‡ºæ¥ï¼Œé‚£ä¹ˆå®ƒä»¬å°±ä¸èƒ½ä¿è¯å®ƒä»¬çš„æœ‰åºæ€§ï¼Œè™šæ‹Ÿæœºå¯ä»¥éšæ„åœ°å¯¹å®ƒä»¬è¿›è¡Œé‡æ’åºã€‚<br>ä¸‹é¢å°±æ¥å…·ä½“ä»‹ç»ä¸‹happens-beforeåŸåˆ™ï¼ˆå…ˆè¡Œå‘ç”ŸåŸåˆ™ï¼‰ï¼š</p><ol><li><p><strong><em>ç¨‹åºæ¬¡åºè§„åˆ™ï¼šä¸€ä¸ªçº¿ç¨‹ä¸­çš„æ¯ä¸ªæ“ä½œï¼Œhappens-beforeäºè¯¥çº¿ç¨‹ä¸­çš„ä»»æ„åç»­æ“ä½œã€‚</em></strong></p></li><li><p><strong><em>ç›‘è§†å™¨é”è§„åˆ™ï¼šä¸€ä¸ªunLockæ“ä½œå…ˆè¡Œå‘ç”Ÿäºåé¢å¯¹åŒä¸€ä¸ªé”çš„lockæ“ä½œã€‚</em></strong></p></li><li><p><strong><em>volatileå˜é‡è§„åˆ™ï¼šå¯¹ä¸€ä¸ªvolatileå˜é‡çš„å†™æ“ä½œï¼Œhappens-beforeäºåç»­å¯¹è¿™ä¸ªvolatileå˜é‡çš„è¯»æ“ä½œã€‚</em></strong></p></li><li><p><strong><em>ä¼ é€’æ€§ï¼šå¦‚æœæ“ä½œA happens-beforeæ“ä½œBï¼Œè€Œæ“ä½œB happens-beforeæ“ä½œCï¼Œåˆ™å¯ä»¥å¾—å‡ºæ“ä½œA happens-beforeæ“ä½œCã€‚</em></strong></p></li><li><p>start()è§„åˆ™ï¼šThreadå¯¹è±¡çš„start()æ–¹æ³•happens-beforeæ­¤çº¿ç¨‹çš„æ¯ä¸ªä¸€ä¸ªåŠ¨ä½œ</p></li><li><p>join()è§„åˆ™ï¼šå¦‚æœçº¿ç¨‹Aæ‰§è¡Œæ“ä½œThreadB.join()å¹¶æˆåŠŸè¿”å›ï¼Œé‚£ä¹ˆçº¿ç¨‹Bä¸­çš„ä»»æ„æ“ä½œhappens-beforeäºçº¿ç¨‹Aä»ThreadB.join()æ“ä½œæˆåŠŸè¿”å›ã€‚</p></li><li><p>çº¿ç¨‹ç»ˆç»“è§„åˆ™ï¼šçº¿ç¨‹ä¸­æ‰€æœ‰çš„æ“ä½œéƒ½å…ˆè¡Œå‘ç”Ÿäºçº¿ç¨‹çš„ç»ˆæ­¢æ£€æµ‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Thread.join()æ–¹æ³•ç»“æŸã€Thread.isAlive()çš„è¿”å›å€¼æ‰‹æ®µæ£€æµ‹åˆ°çº¿ç¨‹å·²ç»ç»ˆæ­¢æ‰§è¡Œ</p></li><li><p>å¯¹è±¡ç»ˆç»“è§„åˆ™ï¼šä¸€ä¸ªå¯¹è±¡çš„åˆå§‹åŒ–å®Œæˆå…ˆè¡Œå‘ç”Ÿäºä»–çš„finalize()æ–¹æ³•çš„å¼€å§‹</p></li></ol><p><img src="/media/happens-before-design.png" alt="happens-before-design"><br>JMMè®¾è®¡å›¾ï¼Œå›¾ç‰‡æ¥è‡ª<a href="#2-4-happens-before">Javaå¹¶å‘ç¼–ç¨‹è‰ºæœ¯</a></p><h2 id="3-JMMçš„å¯è§æ€§ä¿è¯"><a href="#3-JMMçš„å¯è§æ€§ä¿è¯" class="headerlink" title="3. JMMçš„å¯è§æ€§ä¿è¯"></a>3. JMMçš„å¯è§æ€§ä¿è¯</h2><ul><li>å•çº¿ç¨‹ç¨‹åºã€‚<strong><em>å•çº¿ç¨‹ç¨‹åºä¸ä¼šå‡ºç°å†…å­˜å¯è§æ€§é—®é¢˜ã€‚</em></strong>ç¼–è¯‘å™¨ã€runtimeå’Œå¤„ç†å™¨ä¼šå…±åŒç¡®ä¿å•çº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œç»“æœä¸è¯¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§æ¨¡å‹ä¸­çš„æ‰§è¡Œç»“æœç›¸åŒã€‚</li><li>æ­£ç¡®<strong><em>åŒæ­¥</em></strong>çš„å¤šçº¿ç¨‹ç¨‹åºã€‚æ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºçš„æ‰§è¡Œå°†å…·æœ‰é¡ºåºä¸€è‡´æ€§ï¼ˆç¨‹åºçš„æ‰§è¡Œç»“æœä¸è¯¥ç¨‹åºåœ¨é¡ºåºä¸€è‡´æ€§å†…å­˜æ¨¡å‹ä¸­çš„æ‰§è¡Œç»“æœç›¸åŒï¼‰ã€‚JMMé€šè¿‡æ ¹æ®happens-beforeåŸåˆ™é™åˆ¶ç¼–è¯‘å™¨å’Œå¤„ç†å™¨çš„é‡æ’åºæ¥ä¸ºç¨‹åºå‘˜æä¾›å†…å­˜å¯è§æ€§ä¿è¯ã€‚</li><li>æœªåŒæ­¥/æœªæ­£ç¡®åŒæ­¥çš„å¤šçº¿ç¨‹ç¨‹åºã€‚JMMä¸ºä»–ä»¬æä¾›æœ€å°çš„å®‰å…¨æ€§ä¿éšœï¼šçº¿ç¨‹æ‰§è¡Œæ—¶è¯»å–åˆ°çš„å€¼ï¼Œè¦ä¹ˆæ˜¯ä¹‹å‰æŸä¸ªçº¿ç¨‹å†™å…¥çš„å€¼ï¼Œè¦ä¹ˆæ—¶é»˜è®¤å€¼ï¼ˆ0ã€nullã€falseï¼‰ã€‚</li></ul><h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p><a href="http://www.importnew.com/24082.html" target="_blank" rel="noopener">ä½ çœŸçš„äº†è§£volatileå…³é”®å­—å—ï¼Ÿ</a></p><p><a href="https://www.cnblogs.com/zhengbin/p/5654805.html" target="_blank" rel="noopener">Javaä¸­Volatileå…³é”®å­—è¯¦è§£</a></p><p><a href="">Javaå¹¶å‘ç¼–ç¨‹è‰ºæœ¯</a></p><p><a href="">æ·±å…¥ç†è§£Javaè™šæ‹Ÿæœº-JVMé«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µ</a></p><p><a href="">Javaå¹¶å‘ç¼–ç¨‹å®è·µ</a></p><p><a href="https://www.oschina.net/translate/what-every-programmer-should-know-about-cpu-cache-part2" target="_blank" rel="noopener">æ¯ä¸ªç¨‹åºå‘˜éƒ½åº”è¯¥äº†è§£çš„ CPU é«˜é€Ÿç¼“å­˜</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Javaå†…å­˜æ¨¡å‹&quot;&gt;&lt;a href=&quot;#Javaå†…å­˜æ¨¡å‹&quot; class=&quot;headerlink&quot; title=&quot;Javaå†…å­˜æ¨¡å‹&quot;&gt;&lt;/a&gt;Javaå†…å­˜æ¨¡å‹&lt;/h1&gt;&lt;p&gt;Javaå†…å­˜æ¨¡å‹ï¼ˆJava Memory Modelï¼Œç®€ç§°ï¼šJMMï¼‰ï¼Œä¸‹æ–‡ä¸­å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜
      
    
    </summary>
    
    
      <category term="å¹¶å‘" scheme="http://zhongyp.me/tags/%E5%B9%B6%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>æ—…è¡Œ</title>
    <link href="http://zhongyp.me/2017/07/05/life/2017-7-5-Journey/"/>
    <id>http://zhongyp.me/2017/07/05/life/2017-7-5-Journey/</id>
    <published>2017-07-04T16:00:00.000Z</published>
    <updated>2018-10-27T03:29:27.247Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ—…è¡Œ"><a href="#æ—…è¡Œ" class="headerlink" title="æ—…è¡Œ"></a>æ—…è¡Œ</h2><p>æ—…è¡Œè®©æˆ‘èƒ½æœ›å¾—è¾½è¿œï¼Œæƒ³å¾—ç»†å¯†ï¼Œç†è§£äººç”Ÿçš„é—æ†¾ï¼Œä¸è¿™ä¸–ç•Œçš„å¥½å¤„ã€‚</p><h2 id="ç”Ÿæ´»çš„åŸå¸‚"><a href="#ç”Ÿæ´»çš„åŸå¸‚" class="headerlink" title="ç”Ÿæ´»çš„åŸå¸‚"></a>ç”Ÿæ´»çš„åŸå¸‚</h2><ul><li><p><a href="#æ»•å·2013-9">æ»•å·ï¼ˆ~2013-9ï¼‰</a></p></li><li><p><a href="#çƒŸå°2013-92016-7">çƒŸå°ï¼ˆ2013-9~2016-7ï¼‰</a></p></li><li><p><a href="#åŒ—äº¬2016-7">åŒ—äº¬ï¼ˆ2016-7~ï¼‰</a></p></li></ul><h2 id="é‚£äº›å€¼å¾—çºªå¿µçš„åœ°æ–¹"><a href="#é‚£äº›å€¼å¾—çºªå¿µçš„åœ°æ–¹" class="headerlink" title="é‚£äº›å€¼å¾—çºªå¿µçš„åœ°æ–¹"></a>é‚£äº›å€¼å¾—çºªå¿µçš„åœ°æ–¹</h2><ul><li><p><a href="#æ—¥ç…§2010-8">æ—¥ç…§ï¼ˆ2010-8ï¼‰</a></p></li><li><p><a href="#å»ŠåŠ2012-7">å»ŠåŠï¼ˆ2012-7ï¼‰</a></p></li><li><p><a href="#è“¬è±2013-10">è“¬è±ï¼ˆ2013-10ï¼‰</a></p></li><li><p><a href="#å¨æµ·2015-10">å¨æµ·ï¼ˆ2015-10ï¼‰</a></p></li><li><p><a href="#é•¿å²›2017-5">é•¿å²›ï¼ˆ2017-5ï¼‰</a></p></li><li><p><a href="#ä¹Œå…°å¸ƒç»Ÿ2017-7">ä¹Œå…°å¸ƒç»Ÿï¼ˆ2017-7ï¼‰</a></p></li></ul><h3 id="ç”Ÿæ´»çš„åŸå¸‚-1"><a href="#ç”Ÿæ´»çš„åŸå¸‚-1" class="headerlink" title="ç”Ÿæ´»çš„åŸå¸‚"></a>ç”Ÿæ´»çš„åŸå¸‚</h3><h3 id="æ»•å·ï¼ˆ-2013-9ï¼‰"><a href="#æ»•å·ï¼ˆ-2013-9ï¼‰" class="headerlink" title="æ»•å·ï¼ˆ~2013-9ï¼‰"></a>æ»•å·ï¼ˆ~2013-9ï¼‰</h3><h3 id="çƒŸå°ï¼ˆ2013-9-2016-7ï¼‰"><a href="#çƒŸå°ï¼ˆ2013-9-2016-7ï¼‰" class="headerlink" title="çƒŸå°ï¼ˆ2013-9~2016-7ï¼‰"></a>çƒŸå°ï¼ˆ2013-9~2016-7ï¼‰</h3><p>å¤§å­¦å››å¹´ï¼ˆå…¶å®åªå‘†è¿‡ä¸‰å¹´ï¼‰ç”Ÿæ´»çš„åœ°æ–¹ã€‚å››å¹´ä¹Ÿæ²¡å»è¿‡å¤šå°‘åœ°æ–¹ï¼Œå¤§éƒ½æ—¶é—´éƒ½åœ¨çå¿™ï¼Œç­‰è¿‡äº†æœ€é—²æš‡çš„æ—¶å…‰ï¼Œæ‰çŸ¥é“è‡ªå·±é”™è¿‡å¤ªå¤šã€‚</p><h3 id="åŒ—äº¬ï¼ˆ2016-7-ï¼‰"><a href="#åŒ—äº¬ï¼ˆ2016-7-ï¼‰" class="headerlink" title="åŒ—äº¬ï¼ˆ2016-7~ï¼‰"></a>åŒ—äº¬ï¼ˆ2016-7~ï¼‰</h3><h3 id="é‚£äº›å€¼å¾—çºªå¿µçš„åœ°æ–¹-1"><a href="#é‚£äº›å€¼å¾—çºªå¿µçš„åœ°æ–¹-1" class="headerlink" title="é‚£äº›å€¼å¾—çºªå¿µçš„åœ°æ–¹"></a>é‚£äº›å€¼å¾—çºªå¿µçš„åœ°æ–¹</h3><h3 id="æ—¥ç…§ï¼ˆ2010-8ï¼‰"><a href="#æ—¥ç…§ï¼ˆ2010-8ï¼‰" class="headerlink" title="æ—¥ç…§ï¼ˆ2010-8ï¼‰"></a>æ—¥ç…§ï¼ˆ2010-8ï¼‰</h3><h3 id="å»ŠåŠï¼ˆ2012-7ï¼‰"><a href="#å»ŠåŠï¼ˆ2012-7ï¼‰" class="headerlink" title="å»ŠåŠï¼ˆ2012-7ï¼‰"></a>å»ŠåŠï¼ˆ2012-7ï¼‰</h3><h3 id="è“¬è±ï¼ˆ2013-10ï¼‰"><a href="#è“¬è±ï¼ˆ2013-10ï¼‰" class="headerlink" title="è“¬è±ï¼ˆ2013-10ï¼‰"></a>è“¬è±ï¼ˆ2013-10ï¼‰</h3><h3 id="å¨æµ·ï¼ˆ2015-10ï¼‰"><a href="#å¨æµ·ï¼ˆ2015-10ï¼‰" class="headerlink" title="å¨æµ·ï¼ˆ2015-10ï¼‰"></a>å¨æµ·ï¼ˆ2015-10ï¼‰</h3><h3 id="é•¿å²›ï¼ˆ2017-5ï¼‰"><a href="#é•¿å²›ï¼ˆ2017-5ï¼‰" class="headerlink" title="é•¿å²›ï¼ˆ2017-5ï¼‰"></a>é•¿å²›ï¼ˆ2017-5ï¼‰</h3><h3 id="ä¹Œå…°å¸ƒç»Ÿï¼ˆ2017-7ï¼‰"><a href="#ä¹Œå…°å¸ƒç»Ÿï¼ˆ2017-7ï¼‰" class="headerlink" title="ä¹Œå…°å¸ƒç»Ÿï¼ˆ2017-7ï¼‰"></a>ä¹Œå…°å¸ƒç»Ÿï¼ˆ2017-7ï¼‰</h3>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;æ—…è¡Œ&quot;&gt;&lt;a href=&quot;#æ—…è¡Œ&quot; class=&quot;headerlink&quot; title=&quot;æ—…è¡Œ&quot;&gt;&lt;/a&gt;æ—…è¡Œ&lt;/h2&gt;&lt;p&gt;æ—…è¡Œè®©æˆ‘èƒ½æœ›å¾—è¾½è¿œï¼Œæƒ³å¾—ç»†å¯†ï¼Œç†è§£äººç”Ÿçš„é—æ†¾ï¼Œä¸è¿™ä¸–ç•Œçš„å¥½å¤„ã€‚&lt;/p&gt;
&lt;h2 id=&quot;ç”Ÿæ´»çš„åŸå¸‚&quot;&gt;&lt;a href=&quot;#ç”Ÿæ´»çš„åŸå¸‚&quot; cl
      
    
    </summary>
    
    
      <category term="ç”Ÿæ´»" scheme="http://zhongyp.me/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>2017ä¹¦å•</title>
    <link href="http://zhongyp.me/2017/01/01/life/2017-1-1-books/"/>
    <id>http://zhongyp.me/2017/01/01/life/2017-1-1-books/</id>
    <published>2016-12-31T16:00:00.000Z</published>
    <updated>2018-10-27T03:29:23.183Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¹¦æ¶"><a href="#ä¹¦æ¶" class="headerlink" title="ä¹¦æ¶"></a>ä¹¦æ¶</h2><p>â€“2017ä¹¦å•</p><h2 id="greate-mindsï¼šsource"><a href="#greate-mindsï¼šsource" class="headerlink" title="greate mindsï¼šsource"></a>greate mindsï¼š<a href="https://github.com/camda/mybook/tree/master/minds" target="_blank" rel="noopener">source</a></h2><pre><code>+ æ·±å…¥æµ…å‡ºè®¾è®¡æ¨¡å¼+ äººæœˆç¥è¯+ ä»£ç æ•´æ´ä¹‹é“+ ç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“+ ç¼–ç¨‹ä¹‹ç¾ï¼šå¾®è½¯æŠ€æœ¯é¢è¯•å¿ƒå¾—+ ç¼–ç¨‹ç ç‘+ ç¼–ç¨‹ç ç‘ï¼ˆç»­ï¼‰+ è®¾è®¡æ¨¡å¼+ Javaç¨‹åºå‘˜ä¿®ç‚¼ä¹‹é“+ ç®—æ³•å¯¼è®º3</code></pre><h2 id="javaï¼šsource"><a href="#javaï¼šsource" class="headerlink" title="javaï¼šsource"></a>javaï¼š<a href="https://github.com/camda/mybook/tree/master/java" target="_blank" rel="noopener">source</a></h2><pre><code>+ Java_TCPIP_Socketç½‘ç»œç¼–ç¨‹</code></pre><h2 id="smartï¼šsource"><a href="#smartï¼šsource" class="headerlink" title="smartï¼šsource"></a>smartï¼š<a href="https://github.com/camda/mybook/tree/master/smart" target="_blank" rel="noopener">source</a></h2><pre><code>+ å‘¨å¿—å-æœºå™¨å­¦ä¹ + å‘¨å¿—å-æ•°æ®æŒ–æ˜ä¸æœºå™¨å­¦ä¹ </code></pre><h2 id="frameworkï¼šsource"><a href="#frameworkï¼šsource" class="headerlink" title="frameworkï¼šsource"></a>frameworkï¼š<a href="https://github.com/camda/mybook/tree/master/framework" target="_blank" rel="noopener">source</a></h2><pre><code>+ Hibernateå¼€å‘æŒ‡å—+ SpringGuide+ Springæºç æ·±åº¦è§£æ+ dubboæºç è§£æ2.0+ ZooKeeper</code></pre><h2 id="other-source"><a href="#other-source" class="headerlink" title="other: source"></a>other: <a href="https://github.com/camda/mybook/tree/master/other" target="_blank" rel="noopener">source</a></h2><pre><code>+ äº§å“ç»ç†æ‰‹å†Œ+ ç»æµå­¦åŸç†+ ä½ è¦å¦‚ä½•è¡¡é‡ä½ çš„äººç”Ÿ+ ç‰›æ´¥é€šè¯†ç²¾é€‰+ ä¸‰ä½“2 é»‘æš—æ£®æ—+ æ‰‹æŠŠæ‰‹æ•™ä½ è¯»è´¢æŠ¥+ More Effective C++</code></pre>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ä¹¦æ¶&quot;&gt;&lt;a href=&quot;#ä¹¦æ¶&quot; class=&quot;headerlink&quot; title=&quot;ä¹¦æ¶&quot;&gt;&lt;/a&gt;ä¹¦æ¶&lt;/h2&gt;&lt;p&gt;â€“2017ä¹¦å•&lt;/p&gt;
&lt;h2 id=&quot;greate-mindsï¼šsource&quot;&gt;&lt;a href=&quot;#greate-mindsï¼šsource
      
    
    </summary>
    
    
      <category term="ä¹¦å•" scheme="http://zhongyp.me/tags/%E4%B9%A6%E5%8D%95/"/>
    
  </entry>
  
</feed>
